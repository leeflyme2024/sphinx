# Vim 常见用法

## 启动 Vim

```bash
vim filename
```

启动 Vim 并打开名为 `filename` 的文件。如果文件不存在，Vim 将创建一个新的文件。

## 基本模式切换

Vim 有三种主要模式：命令模式（Normal mode）、插入模式（Insert mode）和底行模式（Command-line mode）。

### 进入插入模式
  ```bash
  i
  ```
  
### 返回命令模式
  ```bash
  Esc 或 Ctrl + [
  ```

### 进入底行模式
  ```bash
  :
  ```

## 文本编辑操作

### - 插入文本：
  ```bash
  i
  ```

### - 删除字符：
  ```bash
  x
  ```

### - 删除整行：
  ```bash
  dd
  ```

### - 复制整行：
  ```bash
  yy
  ```

### - 粘贴文本：
  ```bash
  p
  ```

### - 查找文本：
  ```bash
  /pattern
  ```

### - 替换文本：
  ```bash
  :%s/old/new/g
  ```

## 移动光标

### - 移动到行首：
  ```bash
  0 或 ^
  ```

### - 移动到行尾：
  ```bash
  $
  ```

### - 上移一行：
  ```bash
  k 或 Ctrl + p
  ```

### - 下移一行：
  ```bash
  j 或 Ctrl + n
  ```

### - 左移一个字符：
  ```bash
  h 或 Ctrl + b
  ```

### - 右移一个字符：
  ```bash
  l 或 Ctrl + f
  ```

### - 跳转到文件开头：
  ```bash
  gg
  ```

### - 跳转到文件末尾：
  ```bash
  G
  ```

### - 跳转到特定行：
  ```bash
  50G
  ```

## 编辑多行

### - 进入可视模式：
  ```bash
  v
  ```

### - 选择整行：
  ```bash
  V
  ```

### - 选择块：
  ```bash
  Ctrl + v
  ```

### - 复制选中区域：
  ```bash
  y
  ```

### - 删除选中区域：
  ```bash
  d
  ```

### 对齐

#### 启动 Vim

```bash
vim filename
```

启动 Vim 并打开名为 `filename` 的文件。

#### 进入可视模式

```bash
v
```

进入可视模式后，你可以选择一段文本。

#### 对齐左

在可视模式下：

```bash
>  (使用 Shift + 6)
```

这会将选中文本的每行右移一个制表位。

#### 对齐右

在可视模式下：

```bash
<  (使用 Shift + 4)
```

这会将选中文本的每行左移一个制表位。

#### 对齐中心

Vim 本身没有内置的中心对齐命令，但可以通过一些技巧实现。例如，可以使用空格和删除空格的方式来达到中心对齐的效果。

首先，将文本左对齐：

```bash
v
> (Shift + 6)
```

然后，计算需要添加的空格数量，手动添加空格：

```bash
A (进入插入模式到行尾)
space (添加空格)
Esc (退出插入模式)
```

重复以上步骤直到文本看起来居中，然后删除多余的空格：

```bash
v
x (删除选定的空格)
```

对于更自动化的中心对齐，可以使用 Vim 插件，如 `Align`，它提供了更强大的对齐功能。

#### 使用 Align 插件对齐

假设已经安装了 `Align` 插件，可以使用以下命令：

```bash
:Align 80
```

这会将当前缓冲区的文本对齐至每行 80 字符宽。

在可视模式下：

```bash
v
:Align
```

这会将选定的文本块对齐。

#### 自定义对齐

在 `.vimrc` 文件中，你可以自定义对齐行为。例如，设置默认对齐宽度：

```bash
let g:align_width = 80
```

这样，每次使用 `:Align` 命令时，它都会默认使用 80 字符的宽度。


## 保存和退出

### - 保存文件：
  ```bash
  :w
  ```

### - 保存并退出：
  ```bash
  :wq
  ```

### - 强制保存并退出：
  ```bash
  :wq!
  ```

### - 不保存直接退出：
  ```bash
  :q!
  ```

### - 在底行模式下列出所有已打开的缓冲区：
  ```bash
  :ls
  ```

# Vimdiff 使用

`vimdiff` 是 Vim 编辑器的一个内置插件，用于比较两个文件之间的差异，并允许你在同一个窗口中同时编辑这两个文件

## 启动

```bash
vimdiff file1 file2
```

这将启动 Vimdiff，比较 `file1` 和 `file2` 之间的不同。Vimdiff 会显示两个文件的并排视图，任何不同的地方会被高亮显示。

## 导航差异

在 Vimdiff 中，你可以使用以下命令来导航差异：

- 移到下一个差异：
  ```bash
  :cn
  ```

- 移到上一个差异：
  ```bash
  :cp
  ```

- 移到第一个差异：
  ```bash
  :cfirst
  ```

- 移到最后一个差异：
  ```bash
  :clast
  ```

## 修改文件

当你在 Vimdiff 中时，可以直接在窗口中编辑文件。更改将在两个文件中立即反映出来，这使得合并更改变得非常直观。

## 解决冲突

如果两个文件有冲突，你可以选择：

- 接受左侧文件的更改：
  ```bash
  :diffput
  ```

- 接受右侧文件的更改：
  ```bash
  :difftake
  ```

## 保存更改

在解决完所有差异后，你可以使用以下命令来保存更改：

- 保存左侧文件：
  ```bash
  :w
  ```

- 保存右侧文件：
  ```bash
  :w
  ```

由于你可能在一个窗口中编辑两个文件，确保分别保存每一个文件。

## 退出 Vimdiff

当你完成所有操作后，可以使用以下命令来退出 Vimdiff：

- 退出并丢弃所有更改：
  ```bash
  :q!
  ```

- 保存所有更改并退出：
  ```bash
  :wq
  ```

- 只保存并退出当前文件：
  ```bash
  :wq!
  ```

