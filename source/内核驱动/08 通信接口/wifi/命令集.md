

---

`wpa-supplicant` 软件包主要包含以下几个关键组件：
1. **wpa_supplicant**: 这是主守护进程，负责处理与无线网络的认证和加密相关的任务。它支持多种认证机制，包括但不限于WEP, WPA, WPA2, WPA3等。
2. **wpa_action**: 一个辅助脚本，用于处理与 `wpa_supplicant` 相关的用户交互，比如响应网络连接请求。
3. **wpa_passphrase**: 一个命令行工具，用于生成预共享密钥（PSK），通常用于WPA/WPA2-PSK网络的配置文件。
4. **wpa_cli**: 提供了一个命令行界面，允许用户控制和查询 `wpa_supplicant` 守护进程的状态和设置。
5. **wpa_gui**: 一个图形用户界面工具，用于监控和控制 `wpa_supplicant` 的运行状态。这通常是可选的，不会在所有安装中都出现。
6. **wpascan**: 这个工具用于执行无线网络扫描，但在某些版本中，其功能已经被集成到 `wpa_supplicant` 或 `iw` 工具中。
7. **wpa_roam**: 这是一个脚本，用于处理无线网络的漫游和切换，确保设备在不同接入点之间平滑过渡。
8. **wpa_conf**: 这是一个配置文件模板，用于帮助用户创建或修改 `wpa_supplicant` 的配置文件。
除了上述组件外，`wpa-supplicant` 包还可能包含各种库文件、手册页（man pages）和其他文档，以及一些示例配置文件和脚本，用于帮助用户设置和调试无线网络连接。
在实际安装时，具体包含哪些文件可能会根据Linux发行版和编译配置有所不同。有些发行版可能还会提供额外的工具或脚本作为补充。如果需要更详细的文件列表，可以查看你所在系统的包管理器提供的信息，例如在Debian或Ubuntu上使用 `dpkg -L wpa-supplicant`命令。

---

`udhcp` 是一个轻量级的DHCP客户端和服务器软件包，由“Ultimate DHCP Package”项目开发，旨在提供简单而有效的动态主机配置协议（DHCP）实现。`udhcp` 包主要包含以下组件：
1. **udhcpd**: 这是DHCP服务器端程序，负责向局域网中的客户端分配IP地址、子网掩码、默认网关以及其他网络参数。
2. **udhcpc**: 这是DHCP客户端程序，用于运行在网络设备上，向DHCP服务器请求并接收网络配置信息。
除了这两个核心程序之外，`udhcp` 包还可能包括以下相关工具和资源：
- 配置文件：通常包括 `/etc/udhcpd.conf` 和 `/etc/udhcpc/default.script`，分别用于配置服务器和客户端的行为。
- 示例脚本：用于演示如何编写客户端脚本来处理接收到的DHCP响应。
- 手册页（Man Pages）：提供关于如何使用和配置 `udhcpd` 和 `udhcpc` 的文档。
- 库文件：虽然 `udhcp` 通常设计为尽量减少对外部库的依赖，但可能还是包含一些必要的库文件以支持特定功能。
- 示例配置：为了帮助用户快速开始，`udhcp` 包可能包含一些示例配置文件，展示如何设置DHCP服务器和客户端。
`udhcp` 软件包因其较小的内存占用和较低的系统资源需求，在嵌入式系统和资源有限的环境中非常受欢迎。然而，对于更复杂或大型的网络环境，可能需要功能更为强大的DHCP解决方案，如 ISC DHCP 或 dnsmasq。
如果你正在使用基于Linux的系统，并且想要了解已安装的 `udhcp` 包的具体内容，你可以通过包管理器查询已安装的文件列表。例如，在Debian或Ubuntu系统上，你可以使用 `dpkg -L udhcp` 命令来查看所有由 `udhcp` 包安装的文件。

---
`hostapd` 软件包主要包含以下几个关键组件：
1. **hostapd**: 这是主守护进程，用于管理IEEE 802.11无线网络接入点（AP）。它可以配置为支持WEP, WPA, WPA2, WPA3等不同的安全协议，以及IEEE 802.1X认证。
2. **hostapd_cli**: 这是一个命令行工具，用于控制和监视运行中的 `hostapd` 守护进程。它提供了各种命令，如启动、停止、重启、查询状态、配置更改等。
3. **wpa_passphrase**: 虽然 `wpa_passphrase` 实际上是 `wpa-supplicant` 软件包的一部分，但它经常与 `hostapd` 一起使用，用于生成预共享密钥（PSK），这对配置WPA或WPA2安全网络特别有用。
4. **配置文件**: 通常情况下，`hostapd` 包会包含一个或多个示例配置文件，如 `/etc/hostapd/hostapd.conf`，用于定义接入点的操作参数，如SSID、加密类型、网络接口、认证机制等。
5. **手册页（Man Pages）**: 提供了关于如何使用 `hostapd` 和 `hostapd_cli` 的详细文档。
6. **脚本和示例**: 可能包括一些脚本或示例配置，用于演示如何设置和运行 `hostapd`。
7. **库文件**: 包含实现 `hostapd` 功能所需的库文件，如用于网络通信和加密的库。
`hostapd` 被广泛应用于需要创建无线接入点的场景，特别是在小型网络、家庭网络或嵌入式设备中。它能够处理复杂的认证流程，如EAP和RADIUS集成，使其成为企业级无线网络部署的有力工具。
如果你需要了解具体安装的 `hostapd` 包中包含的所有文件，可以使用你所在Linux发行版的包管理器的相应命令。例如，在基于Debian的系统中，你可以使用 `dpkg -L hostapd` 来查看所有由 `hostapd` 包安装的文件。

---
`wireless-tools` 软件包通常包含了一系列用于配置和管理无线网络设备的工具。这些工具在不同的发行版中可能会有所差异，但通常包括以下组件：

- **iwconfig**: 用于配置无线网络接口的工具。
- **iwlist**: 用于列出无线网络接口的信息，如可用的无线网络和设备能力。
- **iwgetid**: 用于获取当前连接的无线网络的 ESSID（等同于 SSID）。
- **iwpriv**: 用于访问无线网络设备的私有命令和功能。
- **iwspy**: 用于监控无线网络接口的活动，通常用于调试目的。
- **ifupdown**: 用于激活或停用网络接口的工具。
- **wireless.h**: 包含用于无线网络编程的头文件。

请注意，随着时间的发展，一些发行版已经逐渐转向使用 `iw` 工具来替代 `iwconfig` 和 `iwlist`，因为 `iw` 提供了更现代和统一的方式来管理无线设备。因此，在某些较新的发行版中，`wireless-tools` 可能不再包含 `iwconfig` 和 `iwlist`，而是仅包含其他工具。

为了确认您的发行版中 `wireless-tools` 包含的具体组件，您可以使用包管理器查询该软件包的详细信息。例如，在基于 Debian 的发行版中，您可以使用以下命令来查看 `wireless-tools` 软件包的内容：
```bash
dpkg -L wireless-tools
```
在基于 Red Hat 的发行版中，您可以使用以下命令来查看 `wireless-tools` 软件包的内容：
```bash
rpm -ql wireless-tools
```
这将列出该软件包安装的所有文件，包括可执行文件、配置文件和其他资源。

---

# wl

## Broadcom wl 工具命令分析

### 基本用法

```
Usage: wl [-a|i <adapter>] [-h] [-d|u|x] [-w|--wlc <index>] <command> [arguments]
```

- `-a|i <adapter>`: 指定适配器名称或编号
- `-h`: 显示帮助信息，或者 `-h [cmd]` 显示特定命令的帮助
- `-d`: 输出格式为有符号整数
- `-u`: 输出格式为无符号整数
- `-x`: 输出格式为十六进制
- `-w <idx>`: 指定 RSDB 的 WLC 索引

### 命令分类

#### 1. 基本信息和状态命令

- `ver`: 获取版本信息
- `winver`: 获取 Windows 操作系统和驱动版本信息
- `cmds`: 生成可用命令的简短列表
- `revinfo`: 获取硬件修订信息
- `isup`: 获取驱动操作状态（0=关闭，1=开启）
- `status`/`assoc`: 打印当前网络关联信息
- `curpower`: 返回当前发射功率设置
- `pktcnt`: 获取好包和坏包的统计信息
- `counters`: 返回驱动计数器值
- `reset_cnts`: 清除驱动计数器值

#### 2. 设备控制命令

- `up`: 重新初始化并标记适配器为启用状态
- `down`: 重置并标记适配器为禁用状态
- `out`: 标记适配器为禁用状态但不重置硬件
- `clk`: 设置板卡时钟状态（0=关闭，1=开启）
- `reboot`: 重启平台
- `radio`: 打开或关闭无线电（"on" 或 "off"）
- `restart`: 重启驱动（驱动必须已经关闭）

#### 3. 无线网络配置命令

- `channel`/`chanspec`: 设置信道
- `rate`: 强制固定速率
- `mrate`: 强制固定多播速率
- `infra`: 配置 BSS 类型或查询基础设施模式
- `bssid`: 获取 BSSID 值
- `ssid`: 设置或获取配置的 SSID
- `join`: 加入指定的网络 SSID
- `country`: 选择驱动操作区域的国家代码
- `band`: 返回或设置当前频段
- `bands`: 返回可用的 802.11 频段列表
- `phylist`: 返回可用的物理类型列表

#### 4. 安全和认证命令

- `wsec`: 无线安全位向量
- `auth`: 设置/获取 802.11 认证类型
- `wpa_auth`: WPA 授权模式的位向量
- `wpa_cap`: 设置/获取 802.11i RSN 功能
- `set_pmk`: 在驱动程序驻留的请求者中设置 PMK 的密码
- `eap`: 限制流量到 802.1X 数据包，直到 802.1X 授权成功
- `authorize`/`deauthorize`: 限制/不限制流量到 802.1X 数据包
- `deauthenticate`: 从 AP 取消认证 STA
- `addwep`: 设置加密密钥
- `rmwep`: 删除指定密钥索引的加密密钥
- `keys`: 打印当前 WEP 密钥列表

#### 5. 扫描和漫游命令

- `scan`: 启动扫描
- `scanresults`: 返回上次扫描的结果
- `escan`: 启动增强扫描
- `escanresults`: 启动增强扫描并显示结果
- `roam_trigger`: 获取或设置漫游触发 RSSI 阈值
- `roam_delta`: 设置漫游候选资格增量
- `roam_scan_period`: 设置漫游候选资格增量

#### 6. 电源管理命令

- `PM`: 设置驱动电源管理模式（0=CAM，1=PS，2=快速PS）
- `wake`: 设置驱动省电模式睡眠状态（0=核心管理，1=唤醒）
- `wowl`: 启用/禁用 WOWL 事件
- `wowl_pattern`: 设置 WOWL 唤醒模式
- `wowl_wakeind`: 显示上次系统唤醒事件指示
- `wowl_status`: 显示上次系统唤醒设置

#### 7. 高级无线功能命令

- `ampdu_tid`: 启用/禁用每个 tid 的 ampdu
- `ampdu_txaggr`: 启用/禁用特定接口的 tx 聚合
- `ampdu_rxaggr`: 启用/禁用特定接口的 rx 聚合
- `mimo_ps`: 获取/设置 MIMO 省电模式
- `frameburst`: 禁用/启用帧突发模式
- `interference`: 获取/设置干扰缓解模式
- `spatial_policy`: 设置/获取空间策略

#### 8. 调试和诊断命令

- `msglevel`: 设置驱动控制台调试消息位向量
- `phymsglevel`: 设置物理层调试消息位向量
- `dump`: 给出子选项 "list" 列出各种子选项
- `dump_clear`: 清除特定类别的计数器/统计信息
- `ioctl_echo`: 检查 ioctl 功能
- `diag`: 诊断测试索引
- `debug_crash`: 调试崩溃 - 类型延迟

#### 9. 内存和硬件访问命令

- `shmem`: 获取/设置共享内存位置
- `macreg`: 获取/设置任何 mac 寄存器
- `phyreg`: 获取/设置物理寄存器
- `radioreg`: 获取/设置无线电寄存器
- `mempool`: 获取内存池统计信息
- `malloc_dump`: 已弃用，折叠在 'wl dump malloc' 下

#### 10. 固件和配置命令

- `upgrade`: 升级嵌入式设备上的固件
- `nvram_dump`: 打印 nvram 变量到标准输出
- `nvset`: 设置 nvram 变量
- `nvget`/`nvram_get`: 获取 nvram 变量的值
- `srdump`: 打印 SPROM 内容到标准输出
- `srwrite`: 写入 srom
- `ciswrite`: 将指定的 file 写入`SDIO PCIe CIS` 源
-  `cisdump`: 显示 SDIO CIS 源的内容

#### 11. 网络性能和测试命令

- `pkteng_start`: 启动数据包引擎 tx/rx
- `pkteng_stop`: 停止数据包引擎
- `pkteng_stats`: 数据包引擎统计信息
- `sample_collect`: 收集样本数据
- `txcal_gainsweep`: 启动 TX 校准的增益扫描
- `phy_rxiqest`: 获取物理 RX IQ 噪声（dBm）

#### 12. 802.11 特定功能命令

- `wme`: 设置 WME（无线多媒体扩展）模式
- `wme_ac`: 设置 WME 访问类别参数
- `wme_apsd`: 在 AP 上设置 APSD 模式
- `rrm`: 启用或禁用 RRM 功能
- `dfs_status`: 获取 DFS 状态
- `radar_status`: 获取雷达检测状态
- `regulatory`: 获取/设置监管域模式（802.11d）
- `spect`: 获取/设置 802.11h 频谱管理模式

### 总结

wl 工具提供了丰富的命令集，用于配置、监控和调试 Broadcom 无线网络设备。这些命令涵盖了从基本的设备控制到高级的无线功能配置，以及详细的诊断和测试功能。通过这些命令，用户可以全面管理无线网络设备的各个方面，包括信道设置、速率控制、安全配置、电源管理和性能优化等。



## pkteng_start
```bash
root@AM62x:~# wl pkteng_start -h
pkteng_start
        start packet engine tx usage: wl pkteng_start <xx:xx:xx:xx:xx:xx> <tx|txwithack> [(async)|sync |sync_unblk] [ipg] [len] [nframes] [src]
        start packet engine rx usage: wl pkteng_start <xx:xx:xx:xx:xx:xx> <rx|rxwithack> [(async)|sync] [rxframes] [rxtimeout]
        sync: synchronous mode
        sync_unblk: synchronous unblock mode
        ipg: inter packet gap in us
        len: packet length
        nframes: number of frames; 0 indicates continuous tx test
        src: source mac address
        rxframes: number of receive frames (sync mode only)
        rxtimeout: maximum timout in msec (sync mode only)
```
## pkteng_stop
```bash
root@AM62x:~# wl pkteng_stop -h
pkteng_stop
        stop packet engine; usage: wl pkteng_stop <tx|rx>
```

## PM
```bash
root@AM62x:~# wl PM -h
PM      set driver power management mode:
        0: CAM (constantly awake)
        1: PS  (power-save)
        2: FAST PS mode
```


## country
```bash
country	Select Country Code for driver operational region
	For simple country setting: wl country <country>
	Where <country> is either a long name or country code from ISO 3166; for example "Germany" or "DE"

	For a specific built-in country definition: wl country <built-in> [<advertised-country>]
	Where <built-in> is a country country code followed by '/' and regulatory revision number.
	For example, "US/3".
	And where <advertised-country> is either a long name or country code from ISO 3166.
	If <advertised-country> is omitted, it will be the same as the built-in country code.

	Use 'wl country list [band(a or b)]' for the list of supported countries
```

```bash
root@AM62x:~# wl country list
Supported countries: country code and long name
#a
#r
0A
0B
0C
AD      ANDORRA
AE      UNITED ARAB EMIRATES
AF      AFGHANISTAN
AG      ANTIGUA AND BARBUDA
AI      ANGUILLA
AL      ALBANIA
AM      ARMENIA
AN      NETHERLANDS ANTILLES
AO      ANGOLA
AR      ARGENTINA
AS      AMERICAN SAMOA
AT      AUSTRIA
AU      AUSTRALIA
AW      ARUBA
AZ      AZERBAIJAN
BA      BOSNIA AND HERZEGOVINA
BB      BARBADOS
BD      BANGLADESH
BE      BELGIUM
BF      BURKINA FASO
BG      BULGARIA
BH      BAHRAIN
BI      BURUNDI
BJ      BENIN
BM      BERMUDA
BN      BRUNEI DARUSSALAM
BO      BOLIVIA
BR      BRAZIL
BS      BAHAMAS
BT      BHUTAN
BW      BOTSWANA
BY      BELARUS
BZ      BELIZE
CA      CANADA
CD      CONGO, THE DEMOCRATIC REPUBLIC OF THE
CF      CENTRAL AFRICAN REPUBLIC
CG      CONGO
CH      SWITZERLAND
CI      COTE D'IVOIRE
CK      COOK ISLANDS
CL      CHILE
CM      CAMEROON
CN      CHINA
CO      COLOMBIA
CR      COSTA RICA
CU      CUBA
CV      CAPE VERDE
CX      CHRISTMAS ISLAND
CY      CYPRUS
CZ      CZECH REPUBLIC
DE      GERMANY
DJ      DJIBOUTI
DK      DENMARK
DM      DOMINICA
DO      DOMINICAN REPUBLIC
DZ      ALGERIA
E0
EC      ECUADOR
EE      ESTONIA
EG      EGYPT
EH      WESTERN SAHARA
ER      ERITREA
ES      SPAIN
ET      ETHIOPIA
FI      FINLAND
FJ      FIJI
FK      FALKLAND ISLANDS (MALVINAS)
FM      MICRONESIA, FEDERATED STATES OF
FO      FAROE ISLANDS
FR      FRANCE
GA      GABON
GB      UNITED KINGDOM
GD      GRENADA
GE      GEORGIA
GF      FRENCH GUIANA
GG      GUERNSEY
GH      GHANA
GI      GIBRALTAR
GM      GAMBIA
GN      GUINEA
GP      GUADELOUPE
GQ      EQUATORIAL GUINEA
GR      GREECE
GT      GUATEMALA
GU      GUAM
GW      GUINEA-BISSAU
GY      GUYANA
HK      HONG KONG
HN      HONDURAS
HR      CROATIA
HT      HAITI
HU      HUNGARY
ID      INDONESIA
IE      IRELAND
IL      ISRAEL
IM      MAN, ISLE OF
IN      INDIA
IO      BRITISH INDIAN OCEAN TERRITORY
IQ      IRAQ
IR      IRAN, ISLAMIC REPUBLIC OF
IS      ICELAND
IT      ITALY
J0
JE      JERSEY
JM      JAMAICA
JO      JORDAN
JP      JAPAN
KA
KC
KD
KE      KENYA
KG      KYRGYZSTAN
KH      CAMBODIA
KI      KIRIBATI
KK
KM      COMOROS
KN      SAINT KITTS AND NEVIS
KR      KOREA, REPUBLIC OF
KW      KUWAIT
KX
KY      CAYMAN ISLANDS
KZ      KAZAKHSTAN
LA      LAO PEOPLE'S DEMOCRATIC REPUBLIC
LB      LEBANON
LC      SAINT LUCIA
LI      LIECHTENSTEIN
LK      SRI LANKA
LR      LIBERIA
LS      LESOTHO
LT      LITHUANIA
LU      LUXEMBOURG
LV      LATVIA
LY      LIBYAN ARAB JAMAHIRIYA
MA      MOROCCO
MC      MONACO
MD      MOLDOVA, REPUBLIC OF
ME      MONTENEGRO
MF      SAINT MARTIN
MG      MADAGASCAR
MK      MACEDONIA, THE FORMER YUGOSLAV REPUBLIC OF
ML      MALI
MM      MYANMAR
MN      MONGOLIA
MO      MACAO
MP      NORTHERN MARIANA ISLANDS
MQ      MARTINIQUE
MR      MAURITANIA
MS      MONTSERRAT
MT      MALTA
MU      MAURITIUS
MV      MALDIVES
MW      MALAWI
MX      MEXICO
MY      MALAYSIA
MZ      MOZAMBIQUE
NA      NAMIBIA
NC      NEW CALEDONIA
NE      NIGER
NF      NORFOLK ISLAND
NG      NIGERIA
NI      NICARAGUA
NL      NETHERLANDS
NO      NORWAY
NP      NEPAL
NR      NAURU
NU      NIUE
NZ      NEW ZEALAND
OM      OMAN
PA      PANAMA
PE      PERU
PF      FRENCH POLYNESIA
PG      PAPUA NEW GUINEA
PH      PHILIPPINES
PK      PAKISTAN
PL      POLAND
PM      SAINT PIERRE AND MIQUELON
PR      PUERTO RICO
PT      PORTUGAL
PW      PALAU
PY      PARAGUAY
Q1      Q1
Q2
QA      QATAR
RE      REUNION
RO      ROMANIA
RS      SERBIA
RU      RUSSIAN FEDERATION
RW      RWANDA
SA      SAUDI ARABIA
SB      SOLOMON ISLANDS
SC      SEYCHELLES
SD      SUDAN
SE      SWEDEN
SG      SINGAPORE
SI      SLOVENIA
SK      SLOVAKIA
SL      SIERRA LEONE
SM      SAN MARINO
SN      SENEGAL
SO      SOMALIA
SR      SURINAME
ST      SAO TOME AND PRINCIPE
SV      EL SALVADOR
SZ      SWAZILAND
TC      TURKS AND CAICOS ISLANDS
TD      CHAD
TF      FRENCH SOUTHERN TERRITORIES
TG      TOGO
TH      THAILAND
TJ      TAJIKISTAN
TL      TIMOR-LESTE (EAST TIMOR)
TM      TURKMENISTAN
TN      TUNISIA
TO      TONGA
TR      TURKEY
TT      TRINIDAD AND TOBAGO
TV      TUVALU
TW      TAIWAN, PROVINCE OF CHINA
TZ      TANZANIA, UNITED REPUBLIC OF
UA      UKRAINE
UG      UGANDA
UM      UNITED STATES MINOR OUTLYING ISLANDS
US      UNITED STATES
UY      URUGUAY
UZ      UZBEKISTAN
VA      HOLY SEE (VATICAN CITY STATE)
VC      SAINT VINCENT AND THE GRENADINES
VE      VENEZUELA
VG      VIRGIN ISLANDS, BRITISH
VI      VIRGIN ISLANDS, U.S.
VN      VIET NAM
VU      VANUATU
WF      WALLIS AND FUTUNA
WS      SAMOA
X0
X1
X2
X3
XA
XB
XR
XS
XT
XU
XV
XW
XX
XY
XZ
Y1
Y2
Y3
Y4
Y5
Y6
Y7
YE      YEMEN
YT      MAYOTTE
ZA      SOUTH AFRICA
ZM      ZAMBIA
ZW      ZIMBABWE
```


## scansuppress
```bash
root@AM62x:~# wl scansuppress -h
scansuppress
        Suppress all scans for testing.
        0 - allow scans
        1 - suppress scans
```


## txpwr1
```bash
txpwr1	Set tx power in in various units. Choose one of (default: dBm): 
	-d dBm units (range: -32 - 31)
	-q quarter dBm units (range: -128 - 127)
	-m milliwatt units
Can be combined with:
	-o turn on override to disable regulatory and other limitations
Use wl txpwr -1 to restore defaults
```


## 2g_rate
```bash
root@AM62x:~# wl 2g_rate -h
wl_rate: missing value parameter after "-h"
2g_rate Force a fixed rate for data frames in the 2.4G band:

        Either "auto", or a simple CCK/DSSS/OFDM rate value:
        1 2 5.5 11 6 9 12 18 24 36 48 54

        Or options to specify legacy, HT, or VHT rate:
        -r R, --rate=R        : legacy rate (CCK, DSSS, OFDM)
        -h M, --ht=M          : HT MCS index [0-23]
        -v M[xS], --vht=M[xS] : VHT MCS index M [0-9],
                              : and optionally Nss S [1-8], eg. 5x2 is MCS=5, Nss=2
        -c cM[sS]             : VHT (c notation) MCS index M [0-9],
                              : and optionally Nss S [1-8], eg. c5s2 is MCS=5, Nss=2
        -s S, --ss=S          : VHT Nss [1-8], number of spatial streams, default 1.
                              : Only used with -v/--vht when MxS format is not used
        -x T, --exp=T         : Tx Expansion, number of tx chains (NTx) beyond the minimum
                              : required for the space-time-streams, exp = NTx - Nsts
        --stbc                : Use STBC expansion, otherwise no STBC
        -l, --ldpc            : Use LDPC encoding, otherwise no LDPC
        -g, --sgi             : SGI, Short Guard Interval, otherwise standard GI
        -b, --bandwidth       : transmit bandwidth MHz; 2.5, 5, 10, 20, 40, 80, 160
```

## chanspec
```bash
root@AM62x:~# wl chanspec -h
wl_chanspec: missing value parameter after "-h"
chanspec
        Set current or configured channel:
        20MHz : [2g|5g]<channel>[/20]
        40MHz : [2g|5g]<channel>/40[u,l]
        80MHz :    [5g]<channel>/80
        160MHz:    [5g]<channel>/160
        80+80MHz:  [5g]<channel>/80+80/<1st80channel>-<2nd80channel>
        optional band 2g or 5g, default to 2g if channel <= 14
        channel number (0-200)
        bandwidth, 2.5, 5, 10, 20, 40, 80, 160, or 80+80 default 20
        primary sideband for 40MHz on 2g, l=lower, u=upper
        <1st80Channel>, <2nd80Channel> Required for 80+80, otherwise not allowed. These fields specify the center channel of the first and second 80MHz band.
OR Set channel with legacy format:
        -c channel number (0-224)
        -b band (5(a) or 2(b/g))
        -w bandwidth 20 or 40
        -s ctl sideband, -1=lower, 0=none, 1=upper
```

## counters
```bash
counters
	Return driver counter values. 
	 wl counters [options]. Options:
	 --nz      : only non zero counters
	 --err     : only error/warning related counters
	 --rx      : only rx specific counters
	 --tx
	 --ctrl    : only ctrl/mgmt related counters
	 --ucode   : only ucode generated counters
	 --ucast
	 --mcast   : only mcast+bcast related counters
	 --sec     : security: only tkip/aes/ related counters
	 --ampdu --rx     : combine options to narrow down selection
	 --ampdu --invert : use --invert to invert the selection
```

## reset_cnts
```bash
reset_cnts
	Clear driver counter values
```




# wpa_passphrase 

`wpa_passphrase` 命令用于生成 Wi-Fi 配置所需的预共享密钥（PSK）。

## 生成 PSK

```bash
wpa_passphrase <ssid> <passphrase>
```

例如，生成一个用于 SSID 为 "HomeNetwork" 的网络，密码短语为 "securepassword" 的 PSK：

```bash
wpa_passphrase HomeNetwork securepassword
```

这将输出一个类似于以下内容的 PSK：

```bash
wpa_passphrase HomeNetwork securepassword
network={
    ssid="HomeNetwork"
    psk=2a57e17838c7b1b26c3b4549893c48964307883940011988e8122f9002693011
}
```

## 将 PSK 添加到 wpa_supplicant 配置文件

你可以将生成的 PSK 添加到 `wpa_supplicant.conf` 文件中，以让设备自动连接到 Wi-Fi 网络：

```bash
echo 'network={'
echo '    ssid="HomeNetwork"'
echo '    psk=2a57e17838c7b1b26c3b4549893c48964307883940011988e8122f9002693011'
echo '}'
```

或者，更简洁的方式是直接将 `wpa_passphrase` 命令的输出重定向到配置文件中：

```bash
wpa_passphrase HomeNetwork securepassword >> /etc/wpa_supplicant/wpa_supplicant.conf
```

这将把新生成的网络配置追加到 `wpa_supplicant.conf` 文件的末尾。

# wpa_supplicant 

`wpa_supplicant` 是一个用于管理无线网络认证和加密的守护进程

```bash
bash-5.1# wpa_supplicant --help
wpa_supplicant v2.10
Copyright (c) 2003-2022, Jouni Malinen <j@w1.fi> and contributors

This software may be distributed under the terms of the BSD license.
See README for more details.

This product includes software developed by the OpenSSL Project
for use in the OpenSSL Toolkit (http://www.openssl.org/)

usage:
  wpa_supplicant [-BddhKLqqstuvW] [-P<pid file>] [-g<global ctrl>] \
        [-G<group>] \
        -i<ifname> -c<config file> [-C<ctrl>] [-D<driver>] [-p<driver_param>] \
        [-b<br_ifname>] [-e<entropy file>] [-f<debug file>] \
        [-o<override driver>] [-O<override ctrl>] \
        [-N -i<ifname> -c<conf> [-C<ctrl>] [-D<driver>] \
        [-m<P2P Device config file>] \
        [-p<driver_param>] [-b<br_ifname>] [-I<config file>] ...]

drivers:
  nl80211 = Linux nl80211/cfg80211
  wext = Linux wireless extensions (generic)
  wired = Wired Ethernet driver
  macsec_linux = MACsec Ethernet driver for Linux
options:
  -b = optional bridge interface name
  -B = run daemon in the background
  -c = Configuration file
  -C = ctrl_interface parameter (only used if -c is not)
  -d = increase debugging verbosity (-dd even more)
  -D = driver name (can be multiple drivers: nl80211,wext)
  -e = entropy file
  -f = log output to debug file instead of stdout
  -g = global ctrl_interface
  -G = global ctrl_interface group
  -h = show this help text
  -i = interface name
  -I = additional configuration file
  -K = include keys (passwords, etc.) in debug output
  -L = show license (BSD)
  -m = Configuration file for the P2P Device interface
  -M = start describing new matching interface
  -N = start describing new interface
  -o = override driver parameter for new interfaces
  -O = override ctrl_interface parameter for new interfaces
  -p = driver parameters
  -P = PID file
  -q = decrease debugging verbosity (-qq even less)
  -s = log output to syslog instead of stdout
  -t = include timestamp in debug messages
  -u = enable DBus control interface
  -v = show version
  -W = wait for a control interface monitor before starting
example:
  wpa_supplicant -Dnl80211 -iwlan0 -c/etc/wpa_supplicant.conf
```

```bash
# 后台运行 wpa_supplicant
wpa_supplicant -B

# 指定配置文件和接口
wpa_supplicant -i<interface_name> -c<config_file>

# 使用特定的驱动
wpa_supplicant -D<driver_name>

# 启动时等待控制接口监控
wpa_supplicant -W

# 日志记录到文件
wpa_supplicant -f<debug_file>

# 控制接口参数
wpa_supplicant -C<ctrl_interface>

# 全局控制接口
wpa_supplicant -g<global_ctrl>

# 增加调试信息
wpa_supplicant -dd

# 减少调试信息
wpa_supplicant -qq

# 包括密钥在调试输出中
wpa_supplicant -K

# 显示许可证信息
wpa_supplicant -L

# 输出版本信息
wpa_supplicant -v

# 日志记录到 syslog
wpa_supplicant -s

# 启用 DBus 控制接口
wpa_supplicant -u

# 指定 PID 文件
wpa_supplicant -P<pid_file>

# 指定桥接接口名称
wpa_supplicant -b<br_ifname>

# 使用熵文件
wpa_supplicant -e<entropy_file>

# 覆盖驱动参数
wpa_supplicant -o<override_driver>

# 覆盖控制接口参数
wpa_supplicant -O<override_ctrl>

# 指定附加配置文件
wpa_supplicant -I<additional_config_file>

# 描述新的匹配接口
wpa_supplicant -M

# 描述新接口
wpa_supplicant -N

# 配置 P2P 设备接口
wpa_supplicant -m<P2P_device_config_file>

# 包含时间戳在调试消息中
wpa_supplicant -t

# 示例命令行
wpa_supplicant -Dnl80211 -iwlan0 -c/etc/wpa_supplicant.conf
```

## 启动 wpa_supplicant

在没有图形界面的环境中，可以使用 `wpa_supplicant` 命令手动启动守护进程。以下是一个示例命令，它将使用配置文件 `/etc/wpa_supplicant/wpa_supplicant.conf` 并监听无线接口 `wlan0`：

```bash
wpa_supplicant -B -i wlan0 -c /etc/wpa_supplicant/wpa_supplicant.conf
```

这里：
- `-B` 表示后台运行。
- `-i wlan0` 指定无线网络接口。
- `-c /etc/wpa_supplicant/wpa_supplicant.conf` 指定配置文件路径。

## 使用 wpa_cli 进行调试和控制

`wpa_supplicant` 提供了一个命令行工具 `wpa_cli`，可以用来调试和控制运行中的 `wpa_supplicant` 实例。以下是一些示例命令：

### 显示所有可用命令

```bash
wpa_cli -i wlan0 help
```

### 列出可用网络

```bash
wpa_cli -i wlan0 list_networks
```

### 选择网络

```bash
wpa_cli -i wlan0 select_network <network_id>
```

这里的 `<network_id>` 是从 `list_networks` 命令输出中获取的网络 ID。

### 显示当前状态

```bash
wpa_cli -i wlan0 status
```

### 断开当前连接

```bash
wpa_cli -i wlan0 disconnect
```

### 重新连接

```bash
wpa_cli -i wlan0 reassociate
```

## 创建一个新的网络配置条目

如果需要添加一个新的网络到配置文件，可以通过 `wpa_cli` 来完成：

```bash
wpa_cli -i wlan0 add_network
```

然后，设置 SSID 和密码等参数：

```bash
wpa_cli -i wlan0 set_network <new_network_id> ssid '"<SSID>"'
wpa_cli -i wlan0 set_network <new_network_id> psk '"<PASSWORD>"'
```

最后，保存网络配置并选择网络：

```bash
wpa_cli -i wlan0 save_config
wpa_cli -i wlan0 select_network <new_network_id>
```

# wpa_cli

`wpa_cli` 是 `wpa_supplicant` 的命令行接口，用于控制和调试无线网络连接。

```bash
bash-5.1# wpa_cli --help
wpa_cli [-p<path to ctrl sockets>] [-i<ifname>] [-hvBr] [-a<action file>] \
        [-P<pid file>] [-g<global ctrl>] [-G<ping interval>] \
        [-s<wpa_client_socket_file_path>] [command..]
  -h = help (show this usage text)
  -v = shown version information
  -a = run in daemon mode executing the action file based on events from
       wpa_supplicant
  -r = try to reconnect when client socket is disconnected.
       This is useful only when used with -a.
  -B = run a daemon in the background
  default path: /var/run/wpa_supplicant
  default interface: first interface found in socket path

commands:
  status [verbose] = get current WPA/EAPOL/EAP status
  ifname = get current interface name
  ping = pings wpa_supplicant
  relog = re-open log-file (allow rolling logs)
  note <text> = add a note to wpa_supplicant debug log
  mib = get MIB variables (dot1x, dot11)
  help [command] = show usage help
  interface [ifname] = show interfaces/select interface
  level <debug level> = change debug level
  license = show full wpa_cli license
  quit = exit wpa_cli
  set = set variables (shows list of variables when run without arguments)
  dump = dump config variables
  get <name> = get information
  driver_flags = list driver flags
  logon = IEEE 802.1X EAPOL state machine logon
  logoff = IEEE 802.1X EAPOL state machine logoff
  pmksa = show PMKSA cache
  pmksa_flush = flush PMKSA cache entries
  reassociate = force reassociation
  reattach = force reassociation back to the same BSS
  preauthenticate <BSSID> = force preauthentication
  identity <network id> <identity> = configure identity for an SSID
  password <network id> <password> = configure password for an SSID
  new_password <network id> <password> = change password for an SSID
  pin <network id> <pin> = configure pin for an SSID
  otp <network id> <password> = configure one-time-password for an SSID
  psk_passphrase <network id> <PSK/passphrase> = configure PSK/passphrase for an SSID
  passphrase <network id> <passphrase> = configure private key passphrase
    for an SSID
  sim <network id> <pin> = report SIM operation result
  bssid <network id> <BSSID> = set preferred BSSID for an SSID
  bssid_ignore <BSSID> = add a BSSID to the list of temporarily ignored BSSs
  bssid_ignore clear = clear the list of temporarily ignored BSSIDs
  bssid_ignore = display the list of temporarily ignored BSSIDs
  blacklist = deprecated alias for bssid_ignore
  log_level <level> [<timestamp>] = update the log level/timestamp
  log_level = display the current log level and log options
  list_networks = list configured networks
  select_network <network id> = select a network (disable others)
  enable_network <network id> = enable a network
  disable_network <network id> = disable a network
  add_network = add a network
  remove_network <network id> = remove a network
  set_network <network id> <variable> <value> = set network variables (shows
    list of variables when run without arguments)
  get_network <network id> <variable> = get network variables
  dup_network <src network id> <dst network id> <variable> = duplicate network variables
  list_creds = list configured credentials
  add_cred = add a credential
  remove_cred <cred id> = remove a credential
  set_cred <cred id> <variable> <value> = set credential variables
  get_cred <cred id> <variable> = get credential variables
  save_config = save the current configuration
  disconnect = disconnect and wait for reassociate/reconnect command before
    connecting
  reconnect = like reassociate, but only takes effect if already disconnected
  scan = request new BSS scan
  scan_results = get latest scan results
  abort_scan = request ongoing scan to be aborted
  bss <<idx> | <bssid>> = get detailed scan result info
  get_capability <eap/pairwise/group/key_mgmt/proto/auth_alg/channels/freq/modes> = get capabilities
  reconfigure = force wpa_supplicant to re-read its configuration file
  terminate = terminate wpa_supplicant
  interface_add <ifname> <confname> <driver> <ctrl_interface> <driver_param>
    <bridge_name> <create> <type> = adds new interface, all parameters but
    <ifname> are optional. Supported types are station ('sta') and AP ('ap')
  interface_remove <ifname> = removes the interface
  interface_list = list available interfaces
  ap_scan <value> = set ap_scan parameter
  scan_interval <value> = set scan_interval parameter (in seconds)
  bss_expire_age <value> = set BSS expiration age parameter
  bss_expire_count <value> = set BSS expiration scan count parameter
  bss_flush <value> = set BSS flush age (0 by default)
  ft_ds <addr> = request over-the-DS FT with <addr>
  wps_pbc [BSSID] = start Wi-Fi Protected Setup: Push Button Configuration
  wps_pin <BSSID> [PIN] = start WPS PIN method (returns PIN, if not hardcoded)
  wps_check_pin <PIN> = verify PIN checksum
  wps_cancel Cancels the pending WPS operation
  wps_reg <BSSID> <AP PIN> = start WPS Registrar to configure an AP
  wps_ap_pin [params..] = enable/disable AP PIN
  wps_er_start [IP address] = start Wi-Fi Protected Setup External Registrar
  wps_er_stop = stop Wi-Fi Protected Setup External Registrar
  wps_er_pin <UUID> <PIN> = add an Enrollee PIN to External Registrar
  wps_er_pbc <UUID> = accept an Enrollee PBC using External Registrar
  wps_er_learn <UUID> <PIN> = learn AP configuration
  wps_er_set_config <UUID> <network id> = set AP configuration for enrolling
  wps_er_config <UUID> <PIN> <SSID> <auth> <encr> <key> = configure AP
  ibss_rsn <addr> = request RSN authentication with <addr> in IBSS
  sta <addr> = get information about an associated station (AP)
  all_sta = get information about all associated stations (AP)
  list_sta = list all stations (AP)
  deauthenticate <addr> = deauthenticate a station
  disassociate <addr> = disassociate a station
  chan_switch <cs_count> <freq> [sec_channel_offset=] [center_freq1=] [center_freq2=] [bandwidth=] [blocktx] [ht|vht] = CSA parameters
  update_beacon = update Beacon frame contents
  suspend = notification of suspend/hibernate
  resume = notification of resume/thaw
  roam <addr> = roam to the specified BSS
  mesh_interface_add [ifname] = Create a new mesh interface
  mesh_group_add <network id> = join a mesh network (disable others)
  mesh_group_remove <ifname> = Remove mesh group interface
  mesh_peer_remove <addr> = Remove a mesh peer
  mesh_peer_add <addr> [duration=<seconds>] = Add a mesh peer
  mesh_link_probe <addr> [payload=<hex dump of payload>] = Probe a mesh link for a given peer by injecting a frame.
  p2p_find [timeout] [type=*] = find P2P Devices for up-to timeout seconds
  p2p_stop_find = stop P2P Devices search
  p2p_asp_provision <addr> adv_id=<adv_id> conncap=<conncap> [info=<infodata>] = provision with a P2P ASP Device
  p2p_asp_provision_resp <addr> adv_id=<adv_id> [role<conncap>] [info=<infodata>] = provision with a P2P ASP Device
  p2p_connect <addr> <"pbc"|PIN> [ht40] = connect to a P2P Device
  p2p_listen [timeout] = listen for P2P Devices for up-to timeout seconds
  p2p_group_remove <ifname> = remove P2P group interface (terminate group if GO)
  p2p_group_add [ht40] = add a new P2P group (local end as GO)
  p2p_group_member <dev_addr> = Get peer interface address on local GO using peer Device Address
  p2p_prov_disc <addr> <method> = request provisioning discovery
  p2p_get_passphrase = get the passphrase for a group (GO only)
  p2p_serv_disc_req <addr> <TLVs> = schedule service discovery request
  p2p_serv_disc_cancel_req <id> = cancel pending service discovery request
  p2p_serv_disc_resp <freq> <addr> <dialog token> <TLVs> = service discovery response
  p2p_service_update = indicate change in local services
  p2p_serv_disc_external <external> = set external processing of service discovery
  p2p_service_flush = remove all stored service entries
  p2p_service_add <bonjour|upnp|asp> <query|version> <response|service> = add a local service
  p2p_service_rep asp <auto> <adv_id> <svc_state> <svc_string> [<svc_info>] = replace local ASP service
  p2p_service_del <bonjour|upnp> <query|version> [|service] = remove a local service
  p2p_reject <addr> = reject connection attempts from a specific peer
  p2p_invite <cmd> [peer=addr] = invite peer
  p2p_peers [discovered] = list known (optionally, only fully discovered) P2P peers
  p2p_peer <address> = show information about known P2P peer
  p2p_set <field> <value> = set a P2P parameter
  p2p_flush = flush P2P state
  p2p_cancel = cancel P2P group formation
  p2p_unauthorize <address> = unauthorize a peer
  p2p_presence_req [<duration> <interval>] [<duration> <interval>] = request GO presence
  p2p_ext_listen [<period> <interval>] = set extended listen timing
  p2p_remove_client <address|iface=address> = remove a peer from all groups
  vendor_elem_add <frame id> <hexdump of elem(s)> = add vendor specific IEs to frame(s)
    0: Probe Req (P2P), 1: Probe Resp (P2P) , 2: Probe Resp (GO), 3: Beacon (GO), 4: PD Req, 5: PD Resp, 6: GO Neg Req, 7: GO Neg Resp, 8: GO Neg Conf, 9: Inv Req, 10: Inv Resp, 11: Assoc Req (P2P), 12: Assoc Resp (P2P)
  vendor_elem_get <frame id> = get vendor specific IE(s) to frame(s)
    0: Probe Req (P2P), 1: Probe Resp (P2P) , 2: Probe Resp (GO), 3: Beacon (GO), 4: PD Req, 5: PD Resp, 6: GO Neg Req, 7: GO Neg Resp, 8: GO Neg Conf, 9: Inv Req, 10: Inv Resp, 11: Assoc Req (P2P), 12: Assoc Resp (P2P)
  vendor_elem_remove <frame id> <hexdump of elem(s)> = remove vendor specific IE(s) in frame(s)
    0: Probe Req (P2P), 1: Probe Resp (P2P) , 2: Probe Resp (GO), 3: Beacon (GO), 4: PD Req, 5: PD Resp, 6: GO Neg Req, 7: GO Neg Resp, 8: GO Neg Conf, 9: Inv Req, 10: Inv Resp, 11: Assoc Req (P2P), 12: Assoc Resp (P2P)
  wfd_subelem_set <subelem> [contents] = set Wi-Fi Display subelement
  wfd_subelem_get <subelem> = get Wi-Fi Display subelement
  fetch_anqp = fetch ANQP information for all APs
  stop_fetch_anqp = stop fetch_anqp operation
  interworking_select [auto] = perform Interworking network selection
  interworking_connect <BSSID> = connect using Interworking credentials
  interworking_add_network <BSSID> = connect using Interworking credentials
  anqp_get <addr> <info id>[,<info id>]... = request ANQP information
  gas_request <addr> <AdvProtoID> [QueryReq] = GAS request
  gas_response_get <addr> <dialog token> [start,len] = Fetch last GAS response
  hs20_anqp_get <addr> <subtype>[,<subtype>]... = request HS 2.0 ANQP information
  nai_home_realm_list <addr> <home realm> = get HS20 nai home realm list
  hs20_icon_request <addr> <icon name> = get Hotspot 2.0 OSU icon
  fetch_osu = fetch OSU provider information from all APs
  cancel_fetch_osu = cancel fetch_osu command
  sta_autoconnect <0/1> = disable/enable automatic reconnection
  tdls_discover <addr> = request TDLS discovery with <addr>
  tdls_setup <addr> = request TDLS setup with <addr>
  tdls_teardown <addr> = tear down TDLS with <addr>
  tdls_link_status <addr> = TDLS link status with <addr>
  wmm_ac_addts <uplink/downlink/bidi> <tsid=0..7> <up=0..7> [nominal_msdu_size=#] [mean_data_rate=#] [min_phy_rate=#] [sba=#] [fixed_nominal_msdu] = add WMM-AC traffic stream
  wmm_ac_delts <tsid> = delete WMM-AC traffic stream
  wmm_ac_status = show status for Wireless Multi-Media Admission-Control
  tdls_chan_switch <addr> <oper class> <freq> [sec_channel_offset=] [center_freq1=] [center_freq2=] [bandwidth=] [ht|vht] = enable channel switching with TDLS peer
  tdls_cancel_chan_switch <addr> = disable channel switching with TDLS peer <addr>
  signal_poll = get signal parameters
  signal_monitor = set signal monitor parameters
  pktcnt_poll = get TX/RX packet counters
  reauthenticate = trigger IEEE 802.1X/EAPOL reauthentication
  autoscan [params] = Set or unset (if none) autoscan parameters
  raw <params..> = Sent unprocessed command
  flush = flush wpa_supplicant state
  radio_work = radio_work <show/add/done>
  vendor <vendor id> <command id> [<hex formatted command argument>] = Send vendor command
  neighbor_rep_request [ssid=<SSID>] [lci] [civic] = Trigger request to AP for neighboring AP report (with optional given SSID in hex or enclosed in double quotes, default: current SSID; with optional LCI and location civic request)
  twt_setup [dialog=<token>] [exponent=<exponent>] [mantissa=<mantissa>] [min_twt=<Min TWT>] [setup_cmd=<setup-cmd>] [twt=<u64>] [requestor=0|1] [trigger=0|1] [implicit=0|1] [flow_type=0|1] [flow_id=<3-bit-id>] [protection=0|1] [twt_channel=<twt chanel id>] [control=<control-u8>] = Send TWT Setup frame
  twt_teardown [flags=<value>] = Send TWT Teardown frame
  erp_flush = flush ERP keys
  mac_rand_scan <scan|sched|pno|all> enable=<0/1> [addr=mac-address mask=mac-address-mask] = scan MAC randomization
  get_pref_freq_list <interface type> = retrieve preferred freq list for the specified interface type
  p2p_lo_start <freq> <period> <interval> <count> = start P2P listen offload
  p2p_lo_stop = stop P2P listen offload
  dpp_qr_code report a scanned DPP URI from a QR Code
  dpp_bootstrap_gen type=<qrcode> [chan=..] [mac=..] [info=..] [curve=..] [key=..] = generate DPP bootstrap information
  dpp_bootstrap_remove *|<id> = remove DPP bootstrap information
  dpp_bootstrap_get_uri <id> = get DPP bootstrap URI
  dpp_bootstrap_info <id> = show DPP bootstrap information
  dpp_bootstrap_set <id> [conf=..] [ssid=<SSID>] [ssid_charset=#] [psk=<PSK>] [pass=<passphrase>] [configurator=<id>] [conn_status=#] [akm_use_selector=<0|1>] [group_id=..] [expiry=#] [csrattrs=..] = set DPP configurator parameters
  dpp_auth_init peer=<id> [own=<id>] = initiate DPP bootstrapping
  dpp_listen <freq in MHz> = start DPP listen
  dpp_stop_listen = stop DPP listen
  dpp_configurator_add [curve=..] [key=..] = add DPP configurator
  dpp_configurator_remove *|<id> = remove DPP configurator
  dpp_configurator_get_key <id> = Get DPP configurator's private key
  dpp_configurator_sign conf=<role> configurator=<id> = generate self DPP configuration
  dpp_pkex_add add PKEX code
  dpp_pkex_remove *|<id> = remove DPP pkex information
  dpp_controller_start [tcp_port=<port>] [role=..] = start DPP controller
  dpp_controller_stop = stop DPP controller
  dpp_chirp own=<BI ID> iter=<count> = start DPP chirp
  dpp_stop_chirp = stop DPP chirp
  all_bss = list all BSS entries (scan results)
  mscs <add|remove|change> [up_bitmap=<hex byte>] [up_limit=<integer>] [stream_timeout=<in TUs>] [frame_classifier=<hex bytes>] = Configure MSCS request
  scs [scs_id=<decimal number>] <add|remove|change> [scs_up=<0-7>] [classifier_type=<4|10>] [classifier params based on classifier type] [tclas_processing=<0|1>] [scs_id=<decimal number>] ... = Send SCS request
  dscp_resp <[reset]>/<[solicited] [policy_id=1 status=0...]> [more] = Send DSCP response
  dscp_query wildcard/domain_name=<string> = Send DSCP Query

```

## 查询状态

```bash
wpa_cli status
```

获取当前的 WPA/EAPOL/EAP 状态。

## 列出网络接口

```bash
wpa_cli ifname
```

获取当前使用的接口名称。

## 测试连接

```bash
wpa_cli ping
```

向 `wpa_supplicant` 发送一个 ping 请求，测试通信。

## 日志管理

```bash
wpa_cli relog
```

重新打开日志文件，允许滚动日志。

```bash
wpa_cli note "System reboot"
```

在 `wpa_supplicant` 的调试日志中添加一条注释。

## 调试与信息

```bash
wpa_cli mib
```

获取 MIB 变量，通常用于调试目的。

```bash
wpa_cli help [command]
```

显示命令的帮助信息，如果没有指定命令，则显示所有命令的帮助概览。

## 接口管理

```bash
wpa_cli interface [ifname]
```

显示所有接口或选择特定接口。

```bash
wpa_cli level <debug level>
```

更改调试级别。

```bash
wpa_cli log_level <level> [<timestamp>]
```

更新日志级别和时间戳。

## 网络配置

```bash
wpa_cli list_networks
```

列出所有已配置的网络。

```bash
wpa_cli select_network <network id>
```

选择特定网络 ID 的网络进行连接。

```bash
wpa_cli enable_network <network id>
```

启用特定网络 ID 的网络。

```bash
wpa_cli disable_network <network id>
```

禁用特定网络 ID 的网络。

```bash
wpa_cli add_network
```

添加一个新的网络配置。

```bash
wpa_cli remove_network <network id>
```

移除特定网络 ID 的网络配置。

```bash
wpa_cli set_network <network id> <variable> <value>
```

设置特定网络 ID 的网络变量。

```bash
wpa_cli get_network <network id> <variable>
```

获取特定网络 ID 的网络变量值。

## 网络操作

```bash
wpa_cli save_config
```

保存当前配置到持久化存储。

```bash
wpa_cli disconnect
```

断开当前的网络连接。

```bash
wpa_cli reconnect
```

如果已断开连接，则重新连接。

```bash
wpa_cli scan
```

请求新的 BSS 扫描。

```bash
wpa_cli scan_results
```

获取最新的扫描结果。

## 高级功能

```bash
wpa_cli vendor_elem_add <frame id> <hexdump of elem(s)>
```

向特定类型的帧添加厂商特定的信息元素。

```bash
wpa_cli vendor_elem_get <frame id>
```

从特定类型的帧获取厂商特定的信息元素。

```bash
wpa_cli vendor_elem_remove <frame id> <hexdump of elem(s)>
```

从特定类型的帧中移除厂商特定的信息元素。

# udhcpd
```bash
bash-5.1# udhcpd --help
BusyBox v1.35.0 (2024-07-20 11:38:35 CST) multi-call binary.

Usage: udhcpd [-fS] [-I ADDR] [-a MSEC] [CONFFILE]

DHCP server

        -f      Run in foreground
        -S      Log to syslog too
        -I ADDR Local address
        -a MSEC Timeout for ARP ping (default 2000)
Signals:
        USR1    Update lease file
```

## 运行在前台模式
```bash
udhcpd -f [CONFFILE]
```
这将使 DHCP 服务器在前台运行，而不是作为守护进程在后台运行。

## 日志同时输出到 syslog
```bash
udhcpd -S [CONFFILE]
```
此选项会确保 DHCP 服务器的日志信息也被发送到系统日志服务。

## 指定本地地址
```bash
udhcpd -I ADDR [CONFFILE]
```
使用 `-I` 或 `--local-address` 参数可以指定 DHCP 服务器应该监听的本地 IP 地址。

## 自定义 ARP 超时时间
```bash
udhcpd -a MSEC [CONFFILE]
```
通过 `-a` 参数可以设置 ARP 请求的超时时间，单位是毫秒，默认为 2000 毫秒。

## 使用信号 USR1 更新租约文件
```bash
kill -USR1 <PID>
```
虽然这不是直接的 `udhcpd` 命令行参数，但可以通过向正在运行的 DHCP 服务器进程发送 USR1 信号来更新租约文件，确保最新的租约信息被保存。

请注意，`CONFFILE` 参数是指向 DHCP 服务器配置文件的路径，该文件包含了 DHCP 服务的具体设置，如地址池、租期、DNS 服务器等信息。如果未指定配置文件，则默认使用 `/etc/udhcpd.conf`。

# udhcpc
```bash
bash-5.1# udhcpc --help
BusyBox v1.35.0 (2024-07-20 11:38:35 CST) multi-call binary.

Usage: udhcpc [-fbqRB] [-a[MSEC]] [-t N] [-T SEC] [-A SEC|-n]
        [-i IFACE] [-s PROG] [-p PIDFILE]
        [-oC] [-r IP] [-V VENDOR] [-F NAME] [-x OPT:VAL]... [-O OPT]...

        -i IFACE        Interface to use (default eth0)
        -s PROG         Run PROG at DHCP events (default /usr/share/udhcpc/default.script)
        -p FILE         Create pidfile
        -B              Request broadcast replies
        -t N            Send up to N discover packets (default 3)
        -T SEC          Pause between packets (default 3)
        -A SEC          Wait if lease is not obtained (default 20)
        -b              Background if lease is not obtained
        -n              Exit if lease is not obtained
        -q              Exit after obtaining lease
        -R              Release IP on exit
        -f              Run in foreground
        -S              Log to syslog too
        -a[MSEC]        Validate offered address with ARP ping
        -r IP           Request this IP address
        -o              Don't request any options (unless -O is given)
        -O OPT          Request option OPT from server (cumulative)
        -x OPT:VAL      Include option OPT in sent packets (cumulative)
                        Examples of string, numeric, and hex byte opts:
                        -x hostname:bbox - option 12
                        -x lease:3600 - option 51 (lease time)
                        -x 0x3d:0100BEEFC0FFEE - option 61 (client id)
                        -x 14:'"dumpfile"' - option 14 (shell-quoted)
        -F NAME         Ask server to update DNS mapping for NAME
        -V VENDOR       Vendor identifier (default 'udhcp VERSION')
        -C              Don't send MAC as client identifier
Signals:
        USR1    Renew lease
        USR2    Release lease
```

```bash
# 设置接口为eth0并请求DHCP租约
udhcpc

# 请求指定接口的DHCP租约
udhcpc -i<IFACE>

# 运行指定脚本处理DHCP事件
udhcpc -s<PROG>

# 创建PID文件
udhcpc -p<PIDFILE>

# 请求广播回复
udhcpc -B

# 发送最多N次发现包
udhcpc -t<N>

# 发现包之间暂停SEC秒
udhcpc -T<SEC>

# 如果未获得租约则等待SEC秒
udhcpc -A<SEC>

# 如果未获得租约则在后台运行
udhcpc -b

# 如果未获得租约则退出
udhcpc -n

# 获得租约后立即退出
udhcpc -q

# 释放IP地址并在退出时释放
udhcpc -R

# 在前台运行
udhcpc -f

# 日志记录到syslog
udhcpc -S

# 验证提供的地址是否可用（ARP ping）
udhcpc -a[MSEC]

# 请求特定的IP地址
udhcpc -r<IP>

# 不请求任何选项
udhcpc -o

# 请求特定的DHCP选项
udhcpc -O<OPT>

# 包含特定的DHCP选项及其值
udhcpc -x<OPT:VAL>

# 要求服务器更新DNS映射
udhcpc -F<NAME>

# 设置供应商标识符
udhcpc -V<VENDOR>

# 不发送MAC作为客户端标识符
udhcpc -C
```


## 请求默认接口的DHCP租约
```bash
udhcpc
```

## 指定接口请求DHCP租约
```bash
udhcpc -i wlan0
```

## 在获得租约后立即退出
```bash
udhcpc -q
```

## 背景模式运行，未获得租约时保持运行
```bash
udhcpc -b
```

## 请求特定的IP地址
```bash
udhcpc -r 192.168.1.100
```

## 创建PID文件
```bash
udhcpc -p /var/run/udhcpc.pid
```

## 执行DHCP事件脚本
```bash
udhcpc -s /etc/dhcp/dhclient-script
```

## 请求广播回应
```bash
udhcpc -B
```

## 设置最大发现包发送次数
```bash
udhcpc -t 5
```

## 设置发现包之间的暂停时间
```bash
udhcpc -T 5
```

## 设置未获得租约时的等待时间
```bash
udhcpc -A 30
```

## 退出程序如果未获得租约
```bash
udhcpc -n
```

## 前台运行
```bash
udhcpc -f
```

## 将日志记录到syslog
```bash
udhcpc -S
```

## 验证提供的IP地址是否可用
```bash
udhcpc -a
```

## 请求特定DHCP选项
```bash
udhcpc -O domain-name-servers
```

## 包含特定选项及其值
```bash
udhcpc -x 12:hostname -x 60:00:11:22:33:44
```

## 请求服务器更新DNS映射
```bash
udhcpc -F myhost.example.com
```

## 设置供应商标识符
```bash
udhcpc -V "MyCompany DHCP Client"
```

## 不发送MAC地址作为客户端标识符
```bash
udhcpc -C
```

# udhcpc6
```bash
root@AM62x:~# udhcpc6 --help
BusyBox v1.35.0 (2024-07-20 11:38:35 CST) multi-call binary.

Usage: udhcpc6 [-fbqR] [-t N] [-T SEC] [-A SEC|-n] [-i IFACE] [-s PROG]
        [-p PIDFILE] [-ldo] [-r IPv6] [-x OPT:VAL]... [-O OPT]...

        -i IFACE        Interface to use (default eth0)
        -p FILE         Create pidfile
        -s PROG         Run PROG at DHCP events (default /usr/share/udhcpc/default.script)
        -B              Request broadcast replies
        -t N            Send up to N discover packets
        -T SEC          Pause between packets (default 3)
        -A SEC          Wait if lease is not obtained (default 20)
        -b              Background if lease is not obtained
        -n              Exit if lease is not obtained
        -q              Exit after obtaining lease
        -R              Release IP on exit
        -f              Run in foreground
        -S              Log to syslog too
        -l              Send 'information request' instead of 'solicit'
                        (used for servers which do not assign IPv6 addresses)
        -r IPv6         Request this address ('no' to not request any IP)
        -d              Request prefix
        -o              Don't request any options (unless -O is given)
        -O OPT          Request option OPT from server (cumulative)
        -x OPT:VAL      Include option OPT in sent packets (cumulative)
                        Examples of string, numeric, and hex byte opts:
                        -x hostname:bbox - option 12
                        -x lease:3600 - option 51 (lease time)
                        -x 0x3d:0100BEEFC0FFEE - option 61 (client id)
                        -x 14:'"dumpfile"' - option 14 (shell-quoted)
Signals:
        USR1    Renew lease
        USR2    Release lease
```


`udhcpc6` 是一个用于获取 IPv6 地址和其他配置参数的 DHCP 客户端工具。

## 参数解析

### 使用指定接口
使用 `-i` 选项可以指定使用的网络接口，默认是 `eth0`。
```sh
udhcpc6 -i wlan0
```

### 创建 PID 文件
使用 `-p` 选项可以创建一个 PID 文件。
```sh
udhcpc6 -p /var/run/udhcpc6.pid
```

### 在 DHCP 事件时运行指定脚本
使用 `-s` 选项可以在 DHCP 事件时运行指定的脚本。
```sh
udhcpc6 -s /path/to/script.sh
```

### 请求广播回复
使用 `-B` 选项可以请求广播回复。
```sh
udhcpc6 -B
```

### 发送发现包的次数
使用 `-t` 选项可以设置发送发现包的次数。
```sh
udhcpc6 -t 5
```

### 设置包之间的暂停时间
使用 `-T` 选项可以设置包之间的暂停时间，默认是 3 秒。
```sh
udhcpc6 -T 5
```

### 等待租约未获取时的时间
使用 `-A` 选项可以设置当租约未获取时的等待时间，默认是 20 秒。
```sh
udhcpc6 -A 30
```

### 后台运行
使用 `-b` 选项可以在未获取租约时后台运行。
```sh
udhcpc6 -b
```

### 获取租约后退出
使用 `-q` 选项可以在获取租约后退出。
```sh
udhcpc6 -q
```

### 退出时释放 IP
使用 `-R` 选项可以在退出时释放 IP。
```sh
udhcpc6 -R
```

### 前台运行
使用 `-f` 选项可以在前台运行。
```sh
udhcpc6 -f
```

### 同时记录到 syslog
使用 `-S` 选项可以同时记录到 syslog。
```sh
udhcpc6 -S
```

### 发送“信息请求”而不是“请求”
使用 `-l` 选项可以发送“信息请求”而不是“请求”。
```sh
udhcpc6 -l
```

### 请求特定地址
使用 `-r` 选项可以请求特定的 IPv6 地址。
```sh
udhcpc6 -r 2001:db8::1
```

### 请求前缀
使用 `-d` 选项可以请求前缀。
```sh
udhcpc6 -d
```

### 不请求任何选项
使用 `-o` 选项可以不请求任何选项（除非使用 `-O` 选项）。
```sh
udhcpc6 -o
```

### 请求特定选项
使用 `-O` 选项可以请求特定选项，选项可以累加。
```sh
udhcpc6 -O 23 -O 24
```

### 在发送的包中包含选项
使用 `-x` 选项可以在发送的包中包含选项，可以累加。
```sh
udhcpc6 -x hostname:bbox -x lease:3600
```

### 更新租约
可以使用 `USR1` 信号更新租约。
```sh
kill -USR1 $(cat /var/run/udhcpc6.pid)
```

### 释放租约
可以使用 `USR2` 信号释放租约。
```sh
kill -USR2 $(cat /var/run/udhcpc6.pid)
```

## 综合应用

### 启动 DHCP 客户端

启动 DHCP 客户端并指定接口：
```bash
udhcpc6 -i eth1
```

### 创建 PID 文件

启动 DHCP 客户端并创建一个 PID 文件：
```bash
udhcpc6 -i eth1 -p /run/udhcpc6.pid
```

### 运行脚本响应 DHCP 事件

启动 DHCP 客户端并指定一个脚本来响应 DHCP 事件：
```bash
udhcpc6 -i eth1 -s /etc/dhcp/dhclient-script
```

### 请求广播回应

启动 DHCP 客户端并请求广播回应：
```bash
udhcpc6 -i eth1 -B
```

### 发送发现报文次数限制

启动 DHCP 客户端并限制发送发现报文的最大次数：
```bash
udhcpc6 -i eth1 -t 3
```

### 发送报文之间的暂停时间

启动 DHCP 客户端并设置发送报文之间的暂停时间：
```bash
udhcpc6 -i eth1 -T 5
```

### 未获得租约时等待的时间

启动 DHCP 客户端并设置未获得租约时的等待时间：
```bash
udhcpc6 -i eth1 -A 30
```

### 背景运行

启动 DHCP 客户端并在未获得租约时转入后台运行：
```bash
udhcpc6 -i eth1 -b
```

### 未获得租约时退出

启动 DHCP 客户端并在未获得租约时立即退出：
```bash
udhcpc6 -i eth1 -n
```

### 获取租约后退出

启动 DHCP 客户端并在获取租约后立即退出：
```bash
udhcpc6 -i eth1 -q
```

### 退出时释放 IP 地址

启动 DHCP 客户端并在退出时释放 IP 地址：
```bash
udhcpc6 -i eth1 -R
```

### 前台运行

启动 DHCP 客户端并在前台运行：
```bash
udhcpc6 -i eth1 -f
```

### 日志记录到 syslog

启动 DHCP 客户端并将日志记录到 syslog：
```bash
udhcpc6 -i eth1 -S
```

### 发送信息请求

启动 DHCP 客户端并发送信息请求（不请求 IP 地址）：
```bash
udhcpc6 -i eth1 -l
```

### 指定请求的地址

启动 DHCP 客户端并指定请求的地址：
```bash
udhcpc6 -i eth1 -r 2001:db8::1
```

### 请求前缀

启动 DHCP 客户端并请求前缀信息：
```bash
udhcpc6 -i eth1 -d
```

### 不请求任何选项

启动 DHCP 客户端但不请求任何选项（除非通过 `-O` 指定）：
```bash
udhcpc6 -i eth1 -o
```

### 请求特定选项

启动 DHCP 客户端并请求特定的 DHCP 选项：
```bash
udhcpc6 -i eth1 -O domain-name-servers
```

### 包含自定义选项

启动 DHCP 客户端并在发送的 DHCP 报文中包含自定义选项：
```bash
udhcpc6 -i eth1 -x hostname:myhostname
```


### 在特定接口上请求 IPv6 地址并在后台运行
在特定接口（例如 `eth0`）上请求 IPv6 地址，如果未获得租约则在后台运行。
```sh
udhcpc6 -i eth0 -b
```

### 请求特定的 IPv6 地址并在前台运行
请求特定的 IPv6 地址，并在前台运行以便查看输出日志。
```sh
udhcpc6 -r 2001:db8::1 -f
```

### 使用指定脚本处理 DHCP 事件并生成 PID 文件
使用指定的脚本处理 DHCP 事件，并生成一个 PID 文件以便管理进程。
```sh
udhcpc6 -s /path/to/script.sh -p /var/run/udhcpc6.pid
```

### 发送多次发现包并请求广播回复
发送最多 5 次发现包，并请求广播回复。
```sh
udhcpc6 -t 5 -B
```

### 请求前缀并获取租约后退出
请求前缀，并在成功获取租约后退出。
```sh
udhcpc6 -d -q
```

### 请求特定选项并在未获取租约时退出
请求特定选项（例如 `23` 和 `24`），如果未能获取租约则退出。
```sh
udhcpc6 -O 23 -O 24 -n
```

### 发送特定选项并请求特定的 IPv6 地址
在发送的包中包含特定选项（例如主机名和租约时间），并请求特定的 IPv6 地址。
```sh
udhcpc6 -x hostname:bbox -x lease:3600 -r 2001:db8::1
```

### 请求信息而不是地址，并在获取租约后退出
发送“信息请求”而不是“请求”，并在成功获取租约后退出。
```sh
udhcpc6 -l -q
```

### 同时记录到 syslog 并创建 PID 文件
将日志记录到 syslog，并创建一个 PID 文件以便管理进程。
```sh
udhcpc6 -S -p /var/run/udhcpc6.pid
```

### 发送多次发现包并设置包之间的暂停时间
发送最多 5 次发现包，并将包之间的暂停时间设置为 5 秒。
```sh
udhcpc6 -t 5 -T 5
```

### 在租约未获取时等待特定时间并请求特定前缀
在租约未获取时等待特定时间（例如 30 秒），并请求特定前缀。
```sh
udhcpc6 -A 30 -d
```

# hostapd
```bash
bash-5.1# hostapd --help
hostapd v2.10
User space daemon for IEEE 802.11 AP management,
IEEE 802.1X/WPA/WPA2/EAP/RADIUS Authenticator
Copyright (c) 2002-2022, Jouni Malinen <j@w1.fi> and contributors

usage: hostapd [-hdBKtv] [-P <PID file>] [-e <entropy file>] \
         [-g <global ctrl_iface>] [-G <group>]\
         [-i <comma-separated list of interface names>]\
         <configuration file(s)>

options:
   -h   show this usage
   -d   show more debug messages (-dd for even more)
   -B   run daemon in the background
   -e   entropy file
   -g   global control interface path
   -G   group for control interfaces
   -P   PID file
   -K   include key data in debug messages
   -f   log output to debug file instead of stdout
   -i   list of interface names to use
   -s   log output to syslog instead of stdout
   -S   start all the interfaces synchronously
   -t   include timestamps in some debug messages
   -v   show hostapd version

```

## 显示帮助信息
```bash
hostapd --help
```

## 启动并显示调试信息
使用 `-d` 参数可以开启更多的调试信息。如果需要更详细的调试信息，可以使用 `-dd`。
```bash
hostapd -d /etc/hostapd/hostapd.conf
```

## 作为后台进程运行
使用 `-B` 参数可以让 `hostapd` 在后台运行。
```bash
hostapd -B /etc/hostapd/hostapd.conf
```

## 指定 PID 文件
使用 `-P` 参数可以指定 `hostapd` 的 PID 文件位置。
```bash
hostapd -P /var/run/hostapd.pid /etc/hostapd/hostapd.conf
```

## 使用熵文件
使用 `-e` 参数可以指定熵文件，这对于随机数生成很重要。
```bash
hostapd -e /dev/urandom /etc/hostapd/hostapd.conf
```

## 设置全局控制接口路径
使用 `-g` 参数可以指定全局控制接口的路径。
```bash
hostapd -g /var/run/hostapd /etc/hostapd/hostapd.conf
```

## 设置控制接口的用户组
使用 `-G` 参数可以指定控制接口的用户组。
```bash
hostapd -G wifi /etc/hostapd/hostapd.conf
```

## 指定接口名称
使用 `-i` 参数可以指定一个或多个网络接口名称。
```bash
hostapd -i wlan0 /etc/hostapd/hostapd.conf
```

## 日志输出到文件
使用 `-f` 参数可以将日志输出重定向到文件。
```bash
hostapd -f /var/log/hostapd.log /etc/hostapd/hostapd.conf
```

## 日志输出到 syslog
使用 `-s` 参数可以将日志发送到 syslog。
```bash
hostapd -s /etc/hostapd/hostapd.conf
```

## 同步启动所有接口
使用 `-S` 参数可以确保所有接口同时启动。
```bash
hostapd -S /etc/hostapd/hostapd.conf
```

## 包含时间戳在调试信息中
使用 `-t` 参数可以在调试信息中加入时间戳。
```bash
hostapd -t /etc/hostapd/hostapd.conf
```

## 包含密钥数据在调试信息中
使用 `-K` 参数可以包含敏感的密钥数据在调试信息中。
```bash
hostapd -K /etc/hostapd/hostapd.conf
```

## 显示版本信息
```bash
hostapd -v
```

# hostapd_cli
```bash
bash-5.1# hostapd_cli --help
hostapd_cli v2.10
Copyright (c) 2004-2022, Jouni Malinen <j@w1.fi> and contributors

usage: hostapd_cli [-p<path>] [-i<ifname>] [-hvBr] [-a<path>] \
                   [-P<pid file>] [-G<ping interval>] [command..]

Options:
   -h           help (show this usage text)
   -v           shown version information
   -p<path>     path to find control sockets (default: /var/run/hostapd)
   -s<dir_path> dir path to open client sockets (default: /var/run/hostapd)
   -a<file>     run in daemon mode executing the action file based on events
                from hostapd
   -r           try to reconnect when client socket is disconnected.
                This is useful only when used with -a.
   -B           run a daemon in the background
   -i<ifname>   Interface to listen on (default: first interface found in the
                socket path)

commands:
  ping = pings hostapd
  mib = get MIB variables (dot1x, dot11, radius)
  relog = reload/truncate debug log output file
  status = show interface status info
  sta <addr> = get MIB variables for one station
  all_sta = get MIB variables for all stations
  list_sta = list all stations
  new_sta <addr> = add a new station
  deauthenticate <addr> = deauthenticate a station
  disassociate <addr> = disassociate a station
  sa_query <addr> = send SA Query to a station
  wps_pin <uuid> <pin> [timeout] [addr] = add WPS Enrollee PIN
  wps_check_pin <PIN> = verify PIN checksum
  wps_pbc = indicate button pushed to initiate PBC
  wps_cancel = cancel the pending WPS operation
  wps_nfc_tag_read <hexdump> = report read NFC tag with WPS data
  wps_nfc_config_token <WPS/NDEF> = build NFC configuration token
  wps_nfc_token <WPS/NDEF/enable/disable> = manager NFC password token
  wps_ap_pin <cmd> [params..] = enable/disable AP PIN
  wps_config <SSID> <auth> <encr> <key> = configure AP
  wps_get_status = show current WPS status
  disassoc_imminent = send Disassociation Imminent notification
  ess_disassoc = send ESS Dissassociation Imminent notification
  bss_tm_req = send BSS Transition Management Request
  get_config = show current configuration
  help = show this usage help
  interface [ifname] = show interfaces/select interface
  raw <params..> = send unprocessed command
  level <debug level> = change debug level
  license = show full hostapd_cli license
  quit = exit hostapd_cli
  set <name> <value> = set runtime variables
  get <name> = get runtime info
  set_qos_map_set <arg,arg,...> = set QoS Map set element
  send_qos_map_conf <addr> = send QoS Map Configure frame
  chan_switch <cs_count> <freq> [sec_channel_offset=] [center_freq1=]
    [center_freq2=] [bandwidth=] [blocktx] [ht|vht]
    = initiate channel switch announcement
  hs20_wnm_notif <addr> <url>
    = send WNM-Notification Subscription Remediation Request
  hs20_deauth_req <addr> <code (0/1)> <Re-auth-Delay(sec)> [url]
    = send WNM-Notification imminent deauthentication indication
  vendor <vendor id> <sub command id> [<hex formatted data>]
    = send vendor driver command
  enable = enable hostapd on current interface
  reload = reload configuration for current interface
  disable = disable hostapd on current interface
  update_beacon = update Beacon frame contents

  erp_flush = drop all ERP keys
  log_level [level] = show/change log verbosity level
  pmksa  = show PMKSA cache entries
  pmksa_flush  = flush PMKSA cache
  set_neighbor <addr> <ssid=> <nr=> [lci=] [civic=] [stat]
    = add AP to neighbor database
  show_neighbor   = show neighbor database entries
  remove_neighbor <addr> [ssid=<hex>] = remove AP from neighbor database
  req_lci <addr> = send LCI request to a station
  req_range  = send FTM range request
  driver_flags  = show supported driver flags
  dpp_qr_code report a scanned DPP URI from a QR Code
  dpp_bootstrap_gen type=<qrcode> [chan=..] [mac=..] [info=..] [curve=..] [key=..] = generate DPP bootstrap information
  dpp_bootstrap_remove *|<id> = remove DPP bootstrap information
  dpp_bootstrap_get_uri <id> = get DPP bootstrap URI
  dpp_bootstrap_info <id> = show DPP bootstrap information
  dpp_bootstrap_set <id> [conf=..] [ssid=<SSID>] [ssid_charset=#] [psk=<PSK>] [pass=<passphrase>] [configurator=<id>] [conn_status=#] [akm_use_selector=<0|1>] [group_id=..] [expiry=#] [csrattrs=..] = set DPP configurator parameters
  dpp_auth_init peer=<id> [own=<id>] = initiate DPP bootstrapping
  dpp_listen <freq in MHz> = start DPP listen
  dpp_stop_listen = stop DPP listen
  dpp_configurator_add [curve=..] [key=..] = add DPP configurator
  dpp_configurator_remove *|<id> = remove DPP configurator
  dpp_configurator_get_key <id> = Get DPP configurator's private key
  dpp_configurator_sign conf=<role> configurator=<id> = generate self DPP configuration
  dpp_pkex_add add PKEX code
  dpp_pkex_remove *|<id> = remove DPP pkex information
  dpp_controller_start [tcp_port=<port>] [role=..] = start DPP controller
  dpp_controller_stop = stop DPP controller
  dpp_chirp own=<BI ID> iter=<count> = start DPP chirp
  dpp_stop_chirp = stop DPP chirp
  accept_acl =Add/Delete/Show/Clear accept MAC ACL
  deny_acl =Add/Delete/Show/Clear deny MAC ACL
  poll_sta <addr> = poll a STA to check connectivity with a QoS null frame
  req_beacon <addr> [req_mode=] <measurement request hexdump>  = send a Beacon report request to a station
  reload_wpa_psk = reload wpa_psk_file only

```


## 显示帮助信息
```bash
hostapd_cli --help
```

## 显示版本信息
```bash
hostapd_cli -v
```

## Ping 主机
用于测试与 `hostapd` 守护进程的连接。
```bash
hostapd_cli ping
```

## 获取 MIB 变量
获取管理和信息基础变量。
```bash
hostapd_cli mib
```

## 重载日志
重置日志文件。
```bash
hostapd_cli relog
```

## 显示状态信息
展示接口的状态信息。
```bash
hostapd_cli status
```

## 获取单个站点的信息
获取特定站点的 MIB 变量。
```bash
hostapd_cli sta 00:11:22:33:44:55
```

## 列出所有站点
列出所有已连接站点。
```bash
hostapd_cli list_sta
```

## 新增站点
添加一个新的站点。
```bash
hostapd_cli new_sta 00:11:22:33:44:55
```

## 脱认证站点
使站点脱认证。
```bash
hostapd_cli deauthenticate 00:11:22:33:44:55
```

## 断开关联站点
断开站点的关联。
```bash
hostapd_cli disassociate 00:11:22:33:44:55
```

## 发送 SA 查询
向站点发送安全更新帧。
```bash
hostapd_cli sa_query 00:11:22:33:44:55
```

## WPS PIN 配置
添加 WPS Enrollee PIN。
```bash
hostapd_cli wps_pin 12345670 12345670
```

## WPS PIN 校验
验证 PIN 的校验和。
```bash
hostapd_cli wps_check_pin 12345670
```

## WPS PBC 开启
启动 WPS Push Button Configuration。
```bash
hostapd_cli wps_pbc
```

## 取消 WPS 操作
取消正在进行的 WPS 操作。
```bash
hostapd_cli wps_cancel
```

## 配置 AP
通过 WPS 配置 AP。
```bash
hostapd_cli wps_config MySSID 1 1 12345678
```

## 获取 WPS 状态
显示当前 WPS 状态。
```bash
hostapd_cli wps_get_status
```

## 发送 Disassociation Imminent 通知
向客户端发送即将断开连接的通知。
```bash
hostapd_cli disassoc_imminent
```

## 发送 ESS Disassociation Imminent 通知
向 ESS 发送即将断开连接的通知。
```bash
hostapd_cli ess_disassoc
```

## 发送 BSS Transition Management 请求
请求 BSS 过渡管理。
```bash
hostapd_cli bss_tm_req
```

## 获取当前配置
显示当前配置。
```bash
hostapd_cli get_config
```

## 更改调试等级
更改调试信息的等级。
```bash
hostapd_cli level 3
```

## 显示许可证信息
显示完整的许可证信息。
```bash
hostapd_cli license
```

## 退出
退出 `hostapd_cli`。
```bash
hostapd_cli quit
```

## 设置变量
设置运行时变量。
```bash
hostapd_cli set myvar value
```

## 获取变量
获取运行时信息。
```bash
hostapd_cli get myvar
```

## 清空 PMKSA 缓存
清空 PMKSA 缓存条目。
```bash
hostapd_cli pmksa_flush
```

## 设置邻居
添加 AP 到邻居数据库。
```bash
hostapd_cli set_neighbor 00:11:22:33:44:55 ssid=MySSID nr=1 lci=...
```

## 显示邻居数据库
展示邻居数据库条目。
```bash
hostapd_cli show_neighbor
```

## 移除邻居
从邻居数据库移除 AP。
```bash
hostapd_cli remove_neighbor 00:11:22:33:44:55 ssid=MySSID
```

## 发送 LCI 请求
向站点发送 LCI 请求。
```bash
hostapd_cli req_lci 00:11:22:33:44:55
```

## 发送 FTM 范围请求
发送 FTM 范围请求。
```bash
hostapd_cli req_range
```

## 显示支持的驱动标志
展示支持的驱动标志。
```bash
hostapd_cli driver_flags
```

## 生成 DPP 引导信息
生成 DPP 引导信息。
```bash
hostapd_cli dpp_bootstrap_gen type=qrcode
```

## 添加 DPP 配置器
添加 DPP 配置器。
```bash
hostapd_cli dpp_configurator_add
```

## 开始 DPP 控制器
开始 DPP 控制器。
```bash
hostapd_cli dpp_controller_start
```

## 启用接口上的 hostapd
在当前接口上启用 `hostapd`。
```bash
hostapd_cli enable
```

## 重新加载接口配置
重新加载当前接口的配置。
```bash
hostapd_cli reload
```

## 禁用接口上的 hostapd
在当前接口上禁用 `hostapd`。
```bash
hostapd_cli disable
```

# iw
```bash
bash-5.1# iw help
Usage:  /usr/sbin/iw [options] command
Options:
        --debug         enable netlink debugging
        --version       show version (5.16)
Commands:
        dev <devname> ap stop
                Stop AP functionality


        dev <devname> ap start
                <SSID> <control freq> [5|10|20|40|80|80+80|160] [<center1_freq> [<center2_freq>]] <beacon interval in TU> <DTIM period> [hidden-ssid|zeroed-ssid] head <beacon head in hexadecimal> [tail <beacon tail in hexadecimal>] [inactivity-time <inactivity time in seconds>] [key0:abcde d:1:6162636465]


        phy <phyname> coalesce show
                Show coalesce status.

        phy <phyname> coalesce disable
                Disable coalesce.

        phy <phyname> coalesce enable <config-file>
                Enable coalesce with given configuration.
                The configuration file contains coalesce rules:
                  delay=<delay>
                  condition=<condition>
                  patterns=<[offset1+]<pattern1>,<[offset2+]<pattern2>,...>
                  delay=<delay>
                  condition=<condition>
                  patterns=<[offset1+]<pattern1>,<[offset2+]<pattern2>,...>
                  ...
                delay: maximum coalescing delay in msec.
                condition: 1/0 i.e. 'not match'/'match' the patterns
                patterns: each pattern is given as a bytestring with '-' in
                places where any byte may be present, e.g. 00:11:22:-:44 will
                match 00:11:22:33:44 and 00:11:22:33:ff:44 etc. Offset and
                pattern should be separated by '+', e.g. 18+43:34:00:12 will
                match '43:34:00:12' after 18 bytes of offset in Rx packet.


        dev <devname> auth <SSID> <bssid> <type:open|shared> <freq in MHz> [key 0:abcde d:1:6162636465]
                Authenticate with the given network.


        dev <devname> connect [-w] <SSID> [<freq in MHz>] [<bssid>] [auth open|shared] [key 0:abcde d:1:6162636465] [mfp:req/opt/no]
                Join the network with the given SSID (and frequency, BSSID).
                With -w, wait for the connect to finish or fail.

        dev <devname> disconnect
                Disconnect from the current network.

        dev <devname> cqm rssi <threshold|off> [<hysteresis>]
                Set connection quality monitor RSSI threshold.


        event [-t|-T|-r] [-f]
                Monitor events from the kernel.
                -t - print timestamp
                -T - print absolute, human-readable timestamp
                -r - print relative timestamp
                -f - print full frame for auth/assoc etc.

        dev <devname> ftm start_responder [lci=<lci buffer in hex>] [civic=<civic buffer in hex>]
                Start an FTM responder. Needs a running ap interface


        dev <devname> ftm get_stats
                Get FTM responder statistics.


        phy <phyname> hwsim wakequeues


        phy <phyname> hwsim stopqueues


        phy <phyname> hwsim setps <value>


        phy <phyname> hwsim getps


        dev <devname> ibss join <SSID> <freq in MHz> [NOHT|HT20|HT40+|HT40-|5MHz|10MHz|80MHz] [fixed-freq] [<fixed bssid>] [beacon-interval <TU>] [basic-rates <rate in Mbps,rate2,...>] [mcast-rate <rate in Mbps>] [key d:0:abcde]
                Join the IBSS cell with the given SSID, if it doesn't exist create
                it on the given frequency. When fixed frequency is requested, don't
                join/create a cell on a different frequency. When a fixed BSSID is
                requested use that BSSID and do not adopt another cell's BSSID even
                if it has higher TSF and the same SSID. If an IBSS is created, create
                it with the specified basic-rates, multicast-rate and beacon-interval.

        dev <devname> ibss leave
                Leave the current IBSS cell.

        features


        commands
                list all known commands and their decimal & hex value

        phy
        list
                List all wireless devices and their capabilities.

        phy <phyname> info
                Show capabilities for the specified wireless device.

        dev <devname> switch channel <channel> [NOHT|HT20|HT40+|HT40-|5MHz|10MHz|80MHz] [beacons <count>] [block-tx]
        dev <devname> switch freq <freq> [NOHT|HT20|HT40+|HT40-|5MHz|10MHz|80MHz] [beacons <count>] [block-tx]
        dev <devname> switch freq <control freq> [5|10|20|40|80|80+80|160] [<center1_freq> [<center2_freq>]] [beacons <count>] [block-tx]
                Switch the operating channel by sending a channel switch announcement (CSA).

        dev
                List all network interfaces for wireless hardware.

        dev <devname> info
                Show information for this interface.

        dev <devname> del
                Remove this virtual interface

        dev <devname> interface add <name> type <type> [mesh_id <meshid>] [4addr on|off] [flags <flag>*] [addr <mac-addr>]
        phy <phyname> interface add <name> type <type> [mesh_id <meshid>] [4addr on|off] [flags <flag>*] [addr <mac-addr>]
                Add a new virtual interface with the given configuration.
                Valid interface types are: managed, ibss, monitor, mesh, wds.

                The flags are only used for monitor interfaces, valid flags are:
                none:     no special flags
                fcsfail:  show frames with FCS errors
                control:  show control frames
                otherbss: show frames from other BSSes
                cook:     use cooked mode
                active:   use active mode (ACK incoming unicast packets)
                mumimo-groupid <GROUP_ID>: use MUMIMO according to a group id
                mumimo-follow-mac <MAC_ADDRESS>: use MUMIMO according to a MAC address

                The mesh_id is used only for mesh mode.

        help [command]
                Print usage for all or a specific command, e.g.
                "help wowlan" or "help wowlan enable".

        dev <devname> link
                Print information about the current link, if any.

        dev <devname> measurement ftm_request <config-file> [timeout=<seconds>] [randomise[=<addr>/<mask>]]
                Send an FTM request to the targets supplied in the config file.
                Each line in the file represents a target, with the following format:
                <addr> bw=<[20|40|80|80+80|160]> cf=<center_freq> [cf1=<center_freq1>] [cf2=<center_freq2>] [ftms_per_burst=<samples per burst>] [ap-tsf] [asap] [bursts_exp=<num of bursts exponent>] [burst_period=<burst period>] [retries=<num of retries>] [burst_duration=<burst duration>] [preamble=<legacy,ht,vht,dmg>] [lci] [civic] [tb] [non_tb]

        dev <devname> mesh_param dump
                List all supported mesh parameters

        dev <devname> mesh leave
                Leave a mesh.

        dev <devname> mesh join <mesh ID> [[freq <freq in MHz> <NOHT|HT20|HT40+|HT40-|80MHz>] [basic-rates <rate in Mbps,rate2,...>]], [mcast-rate <rate in Mbps>] [beacon-interval <time in TUs>] [dtim-period <value>] [vendor_sync on|off] [<param>=<value>]*
                Join a mesh with the given mesh ID with frequency, basic-rates,
                mcast-rate and mesh parameters. Basic-rates are applied only if
                frequency is provided.

        dev <devname> mgmt dump frame <type as hex ab> <pattern as hex ab:cd:..> [frame <type> <pattern>]* [count <frames>]
                Register for receiving certain mgmt frames and print them.
                Frames are selected by their type and pattern containing
                the first several bytes of the frame that should match.

                Example: iw dev wlan0 mgmt dump frame 40 00 frame 40 01:02 count 10


        dev <devname> mpath dump
                List known mesh paths.

        dev <devname> mpath set <destination MAC address> next_hop <next hop MAC address>
                Set an existing mesh path's next hop.

        dev <devname> mpath new <destination MAC address> next_hop <next hop MAC address>
                Create a new mesh path (instead of relying on automatic discovery).

        dev <devname> mpath del <MAC address>
                Remove the mesh path to the given node.

        dev <devname> mpath get <MAC address>
                Get information on mesh path to the given node.

        dev <devname> mpath probe <destination MAC address> frame <frame>
                Inject ethernet frame to given peer overriding the next hop
                lookup from mpath table.
                .Example: iw dev wlan0 mpath probe xx:xx:xx:xx:xx:xx frame 01:xx:xx:00


        dev <devname> mpp dump
                List known mesh proxy paths.

        dev <devname> mpp get <MAC address>
                Get information on mesh proxy path to the given node.

        wdev <idx> nan add_func type <publish|subscribe|followup> [active] [solicited] [unsolicited] [bcast] [close_range] name <name> [info <info>] [flw_up_id <id> flw_up_req_id <id> flw_up_dest <mac>] [ttl <ttl>] [srf <include|exclude> <bf|list> [bf_idx] [bf_len] <mac1;mac2...>] [rx_filter <str1:str2...>] [tx_filter <str1:str2...>]


        wdev <idx> nan rm_func cookie <cookie>


        wdev <idx> nan config [pref <pref>] [bands [2GHz] [5GHz]]


        wdev <idx> nan stop


        wdev <idx> nan start pref <pref> [bands [2GHz] [5GHz]]


        dev <devname> ocb leave
                Leave the OCB mode network.

        dev <devname> ocb join <freq in MHz> <5MHz|10MHz>
                Join the OCB mode network.

        dev <devname> offchannel <freq> <duration>
                Leave operating channel and go to the given channel for a while.

        wdev <idx> p2p stop


        wdev <idx> p2p start


        dev <devname> cac channel <channel> [NOHT|HT20|HT40+|HT40-|5MHz|10MHz|80MHz]
        dev <devname> cac freq <freq> [NOHT|HT20|HT40+|HT40-|5MHz|10MHz|80MHz]
        dev <devname> cac freq <control freq> [5|10|20|40|80|80+80|160] [<center1_freq> [<center2_freq>]]
        dev <devname> cac trigger channel <channel> [NOHT|HT20|HT40+|HT40-|5MHz|10MHz|80MHz]
        dev <devname> cac trigger freq <frequency> [NOHT|HT20|HT40+|HT40-|5MHz|10MHz|80MHz]
        dev <devname> cac trigger freq <frequency> [5|10|20|40|80|80+80|160] [<center1_freq> [<center2_freq>]]
                Start or trigger a channel availability check (CAC) looking to look for
                radars on the given channel.

        phy <phyname> channels
                Show available channels.

        reg reload
                Reload the kernel's regulatory database.

        phy <phyname> reg get
                Print out the devices' current regulatory domain information.

        reg get
                Print out the kernel's current regulatory domain information.

        reg set <ISO/IEC 3166-1 alpha2>
                Notify the kernel about the current regulatory domain.

        dev <devname> roc start <freq> <time in ms>


        dev <devname> scan [-u] [freq <freq>*] [duration <dur>] [ies <hex as 00:11:..>] [meshid <meshid>] [lowpri,flush,ap-force,duration-mandatory] [randomise[=<addr>/<mask>]] [ssid <ssid>*|passive]
                Scan on the given frequencies and probe for the given SSIDs
                (or wildcard if not given) unless passive scanning is requested.
                If -u is specified print unknown data in the scan results.
                Specified (vendor) IEs must be well-formed.

        dev <devname> scan sched_stop
                Stop an ongoing scheduled scan.

        dev <devname> scan sched_start [interval <in_msecs> | scan_plans [<interval_secs:iterations>*] <interval_secs>] [delay <in_secs>] [freqs <freq>+] [matches [ssid <ssid>]+]] [active [ssid <ssid>]+|passive] [randomise[=<addr>/<mask>]] [coloc] [flush]
                Start a scheduled scan at the specified interval on the given frequencies
                with probing for the given SSIDs (or wildcard if not given) unless passive
                scanning is requested.  If matches are specified, only matching results
                will be returned.

        dev <devname> scan abort
                Abort ongoing scan

        dev <devname> scan trigger [freq <freq>*] [duration <dur>] [ies <hex as 00:11:..>] [meshid <meshid>] [lowpri,flush,ap-force,duration-mandatory,coloc] [randomise[=<addr>/<mask>]] [ssid <ssid>*|passive]
                Trigger a scan on the given frequencies with probing for the given
                SSIDs (or wildcard if not given) unless passive scanning is requested.
                Duration(in TUs), if specified, will be used to set dwell times.


        dev <devname> scan dump [-u]
                Dump the current scan results. If -u is specified, print unknown
                data in scan results.

        dev <devname> set bitrates [legacy-<2.4|5> <legacy rate in Mbps>*] [ht-mcs-<2.4|5> <MCS index>*] [vht-mcs-<2.4|5> [he-mcs-<2.4|5|6> <NSS:MCSx,MCSy... | NSS:MCSx-MCSy>*] [sgi-2.4|lgi-2.4] [sgi-5|lgi-5] [he-gi-<2.4|5|6> <0.8|1.6|3.2>] [he-ltf-<2.4|5|6> <1|2|4>]
                Sets up the specified rate masks.
                Not passing any arguments would clear the existing mask (if any).

        dev <devname> set tidconf [peer <MAC address>] tids <mask> [override] [sretry <num>] [lretry <num>] [ampdu [on|off]] [amsdu [on|off]] [noack [on|off]] [rtscts [on|off]][bitrates <type [auto|fixed|limit]> [legacy-<2.4|5> <legacy rate in Mbps>*] [ht-mcs-<2.4|5> <MCS index>*] [vht-mcs-<2.4|5> <NSS:MCSx,MCSy... | NSS:MCSx-MCSy>*] [sgi-2.4|lgi-2.4] [sgi-5|lgi-5]]
                Setup per-node TID specific configuration for TIDs selected by bitmask.
                If MAC address is not specified, then supplied TID configuration
                applied to all the peers.
                Examples:
                  $ iw dev wlan0 set tidconf tids 0x1 ampdu off
                  $ iw dev wlan0 set tidconf tids 0x5 ampdu off amsdu off rtscts on
                  $ iw dev wlan0 set tidconf tids 0x3 override ampdu on noack on rtscts on
                  $ iw dev wlan0 set tidconf peer xx:xx:xx:xx:xx:xx tids 0x1 ampdu off tids 0x3 amsdu off rtscts on
                  $ iw dev wlan0 set tidconf peer xx:xx:xx:xx:xx:xx tids 0x2 bitrates auto
                  $ iw dev wlan0 set tidconf peer xx:xx:xx:xx:xx:xx tids 0x2 bitrates limit vht-mcs-5 4:9


        dev <devname> set mcast_rate <rate in Mbps>
                Set the multicast bitrate.

        dev <devname> set peer <MAC address>
                Set interface WDS peer.

        dev <devname> set noack_map <map>
                Set the NoAck map for the TIDs. (0x0009 = BE, 0x0006 = BK, 0x0030 = VI, 0x00C0 = VO)

        dev <devname> set 4addr <on|off>
                Set interface 4addr (WDS) mode.

        dev <devname> set type <type>
                Set interface type/mode.
                Valid interface types are: managed, ibss, monitor, mesh, wds.

        dev <devname> set meshid <meshid>
        dev <devname> set monitor <flag>*
                Set monitor flags. Valid flags are:
                none:     no special flags
                fcsfail:  show frames with FCS errors
                control:  show control frames
                otherbss: show frames from other BSSes
                cook:     use cooked mode
                active:   use active mode (ACK incoming unicast packets)
                mumimo-groupid <GROUP_ID>: use MUMIMO according to a group id
                mumimo-follow-mac <MAC_ADDRESS>: use MUMIMO according to a MAC address

        dev <devname> set mesh_param <param>=<value> [<param>=<value>]*
                Set mesh parameter (run command without any to see available ones).

        phy <phyname> set txq limit <packets> | memory_limit <bytes> | quantum <bytes>
                Set TXQ parameters. The limit and memory_limit are global queue limits
                for the whole phy. The quantum is the DRR scheduler quantum setting.
                Valid values: 1 - 2**32

        phy <phyname> set antenna <bitmap> | all | <tx bitmap> <rx bitmap>
                Set a bitmap of allowed antennas to use for TX and RX.
                The driver may reject antenna configurations it cannot support.

        dev <devname> set txpower <auto|fixed|limit> [<tx power in mBm>]
                Specify transmit power level and setting type.

        phy <phyname> set txpower <auto|fixed|limit> [<tx power in mBm>]
                Specify transmit power level and setting type.

        phy <phyname> set distance <auto|distance>
                Enable ACK timeout estimation algorithm (dynack) or set appropriate
                coverage class for given link distance in meters.
                To disable dynack set valid value for coverage class.
                Valid values: 0 - 114750

        phy <phyname> set coverage <coverage class>
                Set coverage class (1 for every 3 usec of air propagation time).
                Valid values: 0 - 255.

        phy <phyname> set netns { <pid> | name <nsname> }
                Put this wireless device into a different network namespace:
                    <pid>    - change network namespace by process id
                    <nsname> - change network namespace by name from /var/run/netns
                               or by absolute path (man ip-netns)


        phy <phyname> set retry [short <limit>] [long <limit>]
                Set retry limit.

        phy <phyname> set rts <rts threshold|off>
                Set rts threshold.

        phy <phyname> set frag <fragmentation threshold|off>
                Set fragmentation threshold.

        dev <devname> set channel <channel> [NOHT|HT20|HT40+|HT40-|5MHz|10MHz|80MHz|160MHz]
        phy <phyname> set channel <channel> [NOHT|HT20|HT40+|HT40-|5MHz|10MHz|80MHz|160MHz]
        dev <devname> set freq <freq> [NOHT|HT20|HT40+|HT40-|5MHz|10MHz|80MHz|160MHz]
        dev <devname> set freq <control freq> [5|10|20|40|80|80+80|160] [<center1_freq> [<center2_freq>]]
        phy <phyname> set freq <freq> [NOHT|HT20|HT40+|HT40-|5MHz|10MHz|80MHz|160MHz]
        phy <phyname> set freq <control freq> [5|10|20|40|80|80+80|160] [<center1_freq> [<center2_freq>]]
                Set frequency/channel the hardware is using, including HT
                configuration.

        phy <phyname> set name <new name>
                Rename this wireless device.

        dev <devname> set power_save <on|off>
                Set power save state to on or off.

        phy <phyname> set sar_specs <sar type> <range index:sar power>*
                Set SAR specs corresponding to SAR capa of wiphy.

        dev <devname> get mesh_param [<param>]
                Retrieve mesh parameter (run command without any to see available ones).

        phy <phyname> get txq
                Get TXQ parameters.

        dev <devname> get power_save
                Retrieve power save state.

        dev <devname> station dump [-v]
                List all stations known, e.g. the AP on managed interfaces

        dev <devname> station set <MAC address> txpwr <auto|limit> [<tx power dBm>]
                Set Tx power for this station.

        dev <devname> station set <MAC address> airtime_weight <weight>
                Set airtime weight for this station.

        dev <devname> station set <MAC address> mesh_power_mode <active|light|deep>
                Set link-specific mesh power mode for this station

        dev <devname> station set <MAC address> vlan <ifindex>
                Set an AP VLAN for this station.

        dev <devname> station set <MAC address> plink_action <open|block>
                Set mesh peer link action for this station (peer).

        dev <devname> station del <MAC address> [subtype <subtype>] [reason-code <code>]
                Remove the given station entry (use with caution!)
                Example subtype values: 0xA (disassociation), 0xC (deauthentication)

        dev <devname> station get <MAC address>
                Get information for a specific station.

        dev <devname> survey dump
                List all gathered channel survey data

        dev <devname> vendor recvbin <oui> <subcmd> <filename|-|hex data>


        dev <devname> vendor recv <oui> <subcmd> <filename|-|hex data>


        dev <devname> vendor send <oui> <subcmd> <filename|-|hex data>


        phy <phyname> wowlan show
                Show WoWLAN status.

        phy <phyname> wowlan disable
                Disable WoWLAN.

        phy <phyname> wowlan enable [any] [disconnect] [magic-packet] [gtk-rekey-failure] [eap-identity-request] [4way-handshake] [rfkill-release] [net-detect [interval <in_msecs> | scan_plans [<interval_secs:iterations>*] <interval_secs>] [delay <in_secs>] [freqs <freq>+] [matches [ssid <ssid>]+]] [active [ssid <ssid>]+|passive] [randomise[=<addr>/<mask>]] [coloc] [flush]] [tcp <config-file>] [patterns [offset1+]<pattern1> ...]
                Enable WoWLAN with the given triggers.
                Each pattern is given as a bytestring with '-' in places where any byte
                may be present, e.g. 00:11:22:-:44 will match 00:11:22:33:44 and
                00:11:22:33:ff:44 etc.
                Offset and pattern should be separated by '+', e.g. 18+43:34:00:12 will match '43:34:00:12' after 18 bytes of offset in Rx packet.

                The TCP configuration file contains:
                  source=ip[:port]
                  dest=ip:port@mac
                  data=<hex data packet>
                  data.interval=seconds
                  [wake=<hex packet with masked out bytes indicated by '-'>]
                  [data.seq=len,offset[,start]]
                  [data.tok=len,offset,<token stream>]

                Net-detect configuration example:
                 iw phy0 wowlan enable net-detect interval 5000 delay 30 freqs 2412 2422 matches ssid foo ssid bar


Commands that use the netdev ('dev') can also be given the
'wdev' instead to identify the device.

You can omit the 'phy' or 'dev' if the identification is unique,
e.g. "iw wlan0 info" or "iw phy0 info". (Don't when scripting.)

Do NOT screenscrape this tool, we don't consider its output stable.

```


## 列出所有已知命令及其十进制与十六进制值
```bash
iw commands
```

## 列出所有无线设备及其能力
```bash
iw phy list
```

## 显示指定无线设备的能力
```bash
iw phy <phyname> info
```

## 切换无线设备的工作频道
```bash
iw dev <devname> switch channel <channel> [NOHT|HT20|HT40+|HT40-|5MHz|10MHz|80MHz] [beacons <count>] [block-tx]
```

## 列出所有无线硬件的网络接口
```bash
iw dev
```

## 显示指定接口的信息
```bash
iw dev <devname> info
```

## 删除虚拟接口
```bash
iw dev <devname> del
```

## 添加新的虚拟接口
```bash
iw dev <devname> interface add <name> type <type> [mesh_id <meshid>] [4addr on|off] [flags <flag>*] [addr <mac-addr>]
```

## 获取帮助信息
```bash
iw help [command]
```

## 显示当前链接信息
```bash
iw dev <devname> link
```

## 发送FTM测量请求
```bash
iw dev <devname> measurement ftm_request <config-file> [timeout=<seconds>] [randomise[=<addr>/<mask>]]
```

## 列出所有支持的Mesh参数
```bash
iw dev <devname> mesh_param dump
```

## 离开Mesh网络
```bash
iw dev <devname> mesh leave
```

## 加入Mesh网络
```bash
iw dev <devname> mesh join <mesh ID> [[freq <freq in MHz> <NOHT|HT20|HT40+|HT40-|80MHz>] [basic-rates <rate in Mbps,rate2,...>]], [mcast-rate <rate in Mbps>] [beacon-interval <time in TUs>] [dtim-period <value>] [vendor_sync on|off] [<param>=<value>]*
```

## 注册接收特定的管理帧并打印
```bash
iw dev <devname> mgmt dump frame <type as hex ab> <pattern as hex ab:cd:..> [frame <type> <pattern>]* [count <frames>]
```

## 列出已知的Mesh路径
```bash
iw dev <devname> mpath dump
```

## 设置Mesh路径的下一跳
```bash
iw dev <devname> mpath set <destination MAC address> next_hop <next hop MAC address>
```

## 创建新的Mesh路径
```bash
iw dev <devname> mpath new <destination MAC address> next_hop <next hop MAC address>
```

## 移除到给定节点的Mesh路径
```bash
iw dev <devname> mpath del <MAC address>
```

## 获取到给定节点的Mesh路径信息
```bash
iw dev <devname> mpath get <MAC address>
```

## 注入以太网帧到给定对等体，绕过mpath表中的下一跳查找
```bash
iw dev <devname> mpath probe <destination MAC address> frame <frame>
```

## 列出已知的Mesh代理路径
```bash
iw dev <devname> mpp dump
```

## 获取到给定节点的Mesh代理路径信息
```bash
iw dev <devname> mpp get <MAC address>
```

## 开始或触发通道可用性检查（CAC），寻找给定频道上的雷达
```bash
iw dev <devname> cac channel <channel> [NOHT|HT20|HT40+|HT40-|5MHz|10MHz|80MHz]
```

## 显示可用频道
```bash
iw phy <phyname> channels
```

## 重新加载内核的法规数据库
```bash
iw reg reload
```

## 打印设备当前的法规域信息
```bash
iw phy <phyname> reg get
```

## 通知内核关于当前的法规域
```bash
iw reg set <ISO/IEC 3166-1 alpha2>
```

## 开始频率占用检查
```bash
iw dev <devname> roc start <freq> <time in ms>
```

## 扫描指定频率并探测给定的SSID
```bash
iw dev <devname> scan [-u] [freq <freq>*] [duration <dur>] [ies <hex as 00:11:..>] [meshid <meshid>] [lowpri,flush,ap-force,duration-mandatory] [randomise[=<addr>/<mask>]] [ssid <ssid>*|passive]
```

# iwconfig
**iwconfig**: 这是一个较旧的工具，用于配置无线网络接口。虽然它仍然在许多系统中可用，但它已被 `iw` 替代。`iwconfig` 通常包含在 `wireless-tools` 软件包中。
```bash
root@AM62x:~# iwconfig --help
Usage: iwconfig [interface]
                interface essid {NNN|any|on|off}
                interface mode {managed|ad-hoc|master|...}
                interface freq N.NNN[k|M|G]
                interface channel N
                interface bit {N[k|M|G]|auto|fixed}
                interface rate {N[k|M|G]|auto|fixed}
                interface enc {NNNN-NNNN|off}
                interface key {NNNN-NNNN|off}
                interface power {period N|timeout N|saving N|off}
                interface nickname NNN
                interface nwid {NN|on|off}
                interface ap {N|off|auto}
                interface txpower {NmW|NdBm|off|auto}
                interface sens N
                interface retry {limit N|lifetime N}
                interface rts {N|auto|fixed|off}
                interface frag {N|auto|fixed|off}
                interface modulation {11g|11a|CCK|OFDMg|...}
                interface commit
       Check man pages for more details.
```

## 参数解析

### 设置 ESSID
使用 `iwconfig` 命令设置无线接口的 ESSID。
```bash
iwconfig wlan0 essid MyNetwork
```

### 设置工作模式
使用 `iwconfig` 命令设置无线接口的工作模式（例如 `managed`、`ad-hoc`）。
```bash
iwconfig wlan0 mode managed
```

### 设置频率
使用 `iwconfig` 命令设置无线接口的频率。
```bash
iwconfig wlan0 freq 2.437G
```

### 设置频道
使用 `iwconfig` 命令设置无线接口的频道。
```bash
iwconfig wlan0 channel 6
```

### 设置比特率
使用 `iwconfig` 命令设置无线接口的比特率。
```bash
iwconfig wlan0 bit 54M
```

### 设置传输速率
使用 `iwconfig` 命令设置无线接口的传输速率。
```bash
iwconfig wlan0 rate 54M
```

### 设置加密类型
使用 `iwconfig` 命令设置无线接口的加密类型。
```bash
iwconfig wlan0 enc 1234-5678
```

### 设置加密密钥
使用 `iwconfig` 命令设置无线接口的加密密钥。
```bash
iwconfig wlan0 key 1234-5678
```

### 设置功率管理
使用 `iwconfig` 命令设置无线接口的功率管理选项。
```bash
iwconfig wlan0 power period 10
```

### 设置昵称
使用 `iwconfig` 命令设置无线接口的昵称。
```bash
iwconfig wlan0 nickname MyNickname
```

### 设置网络 ID
使用 `iwconfig` 命令设置无线接口的网络 ID。
```bash
iwconfig wlan0 nwid MyNetworkID
```

### 设置接入点
使用 `iwconfig` 命令设置无线接口的接入点。
```bash
iwconfig wlan0 ap 01:23:45:67:89:AB
```

### 设置发射功率
使用 `iwconfig` 命令设置无线接口的发射功率。
```bash
iwconfig wlan0 txpower 20dBm
```

### 设置灵敏度
使用 `iwconfig` 命令设置无线接口的灵敏度。
```bash
iwconfig wlan0 sens 3
```

### 设置重试次数
使用 `iwconfig` 命令设置无线接口的重试次数。
```bash
iwconfig wlan0 retry limit 10
```

### 设置 RTS 和 Fragmentation
使用 `iwconfig` 命令设置无线接口的 RTS 和 Fragmentation。
```bash
iwconfig wlan0 rts 2347
iwconfig wlan0 frag 2346
```

### 设置调制方式
使用 `iwconfig` 命令设置无线接口的调制方式。
```bash
iwconfig wlan0 modulation 11g
```

### 提交配置
使用 `iwconfig` 命令提交所有更改的配置。
```bash
iwconfig wlan0 commit
```

## 综合应用

### 配置并连接到一个无线网络
设置无线接口的 ESSID、加密类型、加密密钥，并连接到指定的无线网络。
```bash
iwconfig wlan0 essid MyNetwork
iwconfig wlan0 key 1234-5678
iwconfig wlan0 mode managed
```

### 调整无线网络性能
配置无线接口的频率、频道、传输速率和功率管理以优化网络性能。
```bash
iwconfig wlan0 freq 2.437G
iwconfig wlan0 channel 6
iwconfig wlan0 rate 54M
iwconfig wlan0 power period 10
```

### 设置无线接口的工作模式和调制方式
设置无线接口的工作模式和调制方式以适应不同的网络环境。
```bash
iwconfig wlan0 mode ad-hoc
iwconfig wlan0 modulation OFDMg
```

### 配置无线接口的发射功率和灵敏度
调整无线接口的发射功率和灵敏度以优化信号质量。
```bash
iwconfig wlan0 txpower 20dBm
iwconfig wlan0 sens 3
```

### 设置加密并连接到受保护的网络
配置无线接口的加密类型和密钥，确保安全地连接到受保护的网络。
```bash
iwconfig wlan0 enc 1234-5678
iwconfig wlan0 key 1234-5678
```


# iwgetid
```bash
root@AM62x:~# iwgetid --help
Usage iwgetid [OPTIONS] [ifname]
  Options are:
    -a,--ap       Print the access point address
    -c,--channel  Print the current channel
    -f,--freq     Print the current frequency
    -m,--mode     Print the current mode
    -p,--protocol Print the protocol name
    -r,--raw      Format the output as raw value for shell scripts
    -s,--scheme   Format the output as a PCMCIA scheme identifier
    -h,--help     Print this message
```

## 参数解析

### 打印接入点地址
使用 `-a` 或 `--ap` 选项可以打印当前连接的接入点地址。
```sh
iwgetid -a
```
或
```sh
iwgetid --ap
```

### 打印当前频道
使用 `-c` 或 `--channel` 选项可以打印当前的频道。
```sh
iwgetid -c
```
或
```sh
iwgetid --channel
```

### 打印当前频率
使用 `-f` 或 `--freq` 选项可以打印当前的频率。
```sh
iwgetid -f
```
或
```sh
iwgetid --freq
```

### 打印当前模式
使用 `-m` 或 `--mode` 选项可以打印当前的模式。
```sh
iwgetid -m
```
或
```sh
iwgetid --mode
```

### 打印协议名称
使用 `-p` 或 `--protocol` 选项可以打印协议名称。
```sh
iwgetid -p
```
或
```sh
iwgetid --protocol
```

### 以原始值格式化输出
使用 `-r` 或 `--raw` 选项可以以原始值格式化输出，适用于脚本。
```sh
iwgetid -r
```
或
```sh
iwgetid --raw
```

### 以 PCMCIA 方案标识符格式化输出
使用 `-s` 或 `--scheme` 选项可以以 PCMCIA 方案标识符格式化输出。
```sh
iwgetid -s
```
或
```sh
iwgetid --scheme
```

### 打印帮助信息
使用 `-h` 或 `--help` 选项可以打印帮助信息。
```sh
iwgetid -h
```
或
```sh
iwgetid --help
```

### 指定接口打印接入点地址
可以通过在命令后面加上接口名称来指定接口，例如 `wlan0`。
```sh
iwgetid -a wlan0
```
或
```sh
iwgetid --ap wlan0
```

## 综合应用


### 打印所有信息
综合使用多个选项，一次性打印出当前连接的接入点地址、频道、频率、模式和协议名称。
```sh
iwgetid -a -c -f -m -p
```

### 打印接入点地址和频道
打印当前连接的接入点地址和频道，适用于需要了解连接基本信息的场景。
```sh
iwgetid -a -c
```

### 打印当前频率和模式
打印当前的频率和模式，适用于需要了解无线网络配置的场景。
```sh
iwgetid -f -m
```

### 打印协议名称并以原始值格式化输出
打印协议名称，并以原始值格式化输出，适用于需要在脚本中使用的场景。
```sh
iwgetid -p -r
```

### 打印接入点地址并以 PCMCIA 方案标识符格式化输出
打印当前连接的接入点地址，并以 PCMCIA 方案标识符格式化输出，适用于特定硬件环境的配置。
```sh
iwgetid -a -s
```

### 在指定接口上打印所有信息
在指定的接口（例如 `wlan0`）上打印所有连接信息，包括接入点地址、频道、频率、模式和协议名称。
```sh
iwgetid -a -c -f -m -p wlan0
```

### 打印当前频道并以原始值格式化输出
打印当前频道，并以原始值格式化输出，适用于需要在脚本中解析频道信息的场景。
```sh
iwgetid -c -r
```

### 打印当前模式并以 PCMCIA 方案标识符格式化输出
打印当前模式，并以 PCMCIA 方案标识符格式化输出，适用于特定硬件配置的需求。
```sh
iwgetid -m -s
```



# iwlist
**iwlist**: 这也是一个较旧的工具，用于列出无线网络接口的详细信息，如可用的无线网络和设备的能力。它同样被 `iw` 替代。`iwlist` 也通常包含在 `wireless-tools` 软件包中。
```bash
root@AM62x:~# iwlist --help
Usage: iwlist [interface] scanning [essid NNN] [last]
              [interface] frequency
              [interface] channel
              [interface] bitrate
              [interface] rate
              [interface] encryption
              [interface] keys
              [interface] power
              [interface] txpower
              [interface] retry
              [interface] ap
              [interface] accesspoints
              [interface] peers
              [interface] event
              [interface] auth
              [interface] wpakeys
              [interface] genie
              [interface] modulation
```

## 参数解析

### 扫描无线网络
使用 `iwlist` 命令扫描可用的无线网络。
```bash
iwlist wlan0 scanning
```

### 查看当前频率
使用 `iwlist` 命令查看无线接口的当前频率。
```bash
iwlist wlan0 frequency
```

### 查看当前频道
使用 `iwlist` 命令查看无线接口的当前频道。
```bash
iwlist wlan0 channel
```

### 查看比特率
使用 `iwlist` 命令查看无线接口的比特率。
```bash
iwlist wlan0 bitrate
```

### 查看传输速率
使用 `iwlist` 命令查看无线接口的传输速率。
```bash
iwlist wlan0 rate
```

### 查看加密类型
使用 `iwlist` 命令查看无线接口的加密类型。
```bash
iwlist wlan0 encryption
```

### 查看加密密钥
使用 `iwlist` 命令查看无线接口的加密密钥。
```bash
iwlist wlan0 keys
```

### 查看功率管理设置
使用 `iwlist` 命令查看无线接口的功率管理设置。
```bash
iwlist wlan0 power
```

### 查看发射功率
使用 `iwlist` 命令查看无线接口的发射功率。
```bash
iwlist wlan0 txpower
```

### 查看重试次数
使用 `iwlist` 命令查看无线接口的重试次数。
```bash
iwlist wlan0 retry
```

### 查看接入点
使用 `iwlist` 命令查看无线接口的接入点信息。
```bash
iwlist wlan0 ap
```

### 查看访问点列表
使用 `iwlist` 命令查看无线接口的访问点列表。
```bash
iwlist wlan0 accesspoints
```

### 查看对等设备
使用 `iwlist` 命令查看无线接口的对等设备列表。
```bash
iwlist wlan0 peers
```

### 查看事件
使用 `iwlist` 命令查看无线接口的事件信息。
```bash
iwlist wlan0 event
```

### 查看认证状态
使用 `iwlist` 命令查看无线接口的认证状态。
```bash
iwlist wlan0 auth
```

### 查看 WPA 密钥
使用 `iwlist` 命令查看无线接口的 WPA 密钥。
```bash
iwlist wlan0 wpakeys
```

### 查看调制方式
使用 `iwlist` 命令查看无线接口的调制方式。
```bash
iwlist wlan0 modulation
```

## 综合应用

### 扫描并查看可用网络
首先扫描附近的无线网络，然后查看具体的接入点信息。
```bash
iwlist wlan0 scanning
iwlist wlan0 accesspoints
```

### 查看无线接口的频道和频率
查看无线接口的当前频道和频率设置。
```bash
iwlist wlan0 channel
iwlist wlan0 frequency
```

### 查看无线接口的功率和发射功率
查看无线接口的功率管理设置和发射功率。
```bash
iwlist wlan0 power
iwlist wlan0 txpower
```

### 获取无线接口的加密信息
查看无线接口的加密类型和加密密钥。
```bash
iwlist wlan0 encryption
iwlist wlan0 keys
```

### 查看无线接口的比特率和传输速率
查看无线接口的比特率和传输速率信息。
```bash
iwlist wlan0 bitrate
iwlist wlan0 rate
```




# iwpriv
```bash
root@AM62x:~# iwpriv --help
Usage: iwpriv interface [private-command [private-arguments]]
```

## 参数解析

### 查看可用的私有命令
使用 `iwpriv` 命令和接口名称，可以查看该接口可用的私有命令。
```bash
iwpriv wlan0
```

### 执行私有命令
使用 `iwpriv` 命令可以执行特定的私有命令，例如设置某个参数。
```bash
iwpriv wlan0 set_channel 6
```

### 获取私有命令的当前值
使用 `iwpriv` 命令可以获取特定私有命令的当前值。
```bash
iwpriv wlan0 get_channel
```

### 设置私有参数
使用 `iwpriv` 命令可以设置特定的私有参数。
```bash
iwpriv wlan0 set_txpower 20
```


## 综合应用

### 查看并设置频道
首先查看可用的私有命令，然后设置和获取频道信息。
```bash
# 查看 wlan0 接口的可用私有命令
iwpriv wlan0

# 设置频道为 6
iwpriv wlan0 set_channel 6

# 获取当前频道
iwpriv wlan0 get_channel
```

### 查看并设置发射功率
查看可用的私有命令，然后设置和获取发射功率。
```bash
# 查看 wlan0 接口的可用私有命令
iwpriv wlan0

# 设置发射功率为 20 dBm
iwpriv wlan0 set_txpower 20

# 获取当前发射功率
iwpriv wlan0 get_txpower
```

### 配置并验证无线参数
综合使用 `iwpriv` 命令配置和验证多个无线参数，例如频道和发射功率。
```bash
# 设置频道为 11
iwpriv wlan0 set_channel 11

# 验证当前频道
iwpriv wlan0 get_channel

# 设置发射功率为 18 dBm
iwpriv wlan0 set_txpower 18

# 验证当前发射功率
iwpriv wlan0 get_txpower
```

### 使用脚本配置无线接口
通过脚本自动配置无线接口的多个参数，例如频道和发射功率。
```bash
#!/bin/sh
# 设置无线接口的频道和发射功率

# 设置频道
iwpriv wlan0 set_channel 6

# 设置发射功率
iwpriv wlan0 set_txpower 20

# 验证配置
iwpriv wlan0 get_channel
iwpriv wlan0 get_txpower
```



# iwspy
```bash
root@AM62x:~# iwspy --help
Usage: iwspy interface [+] [MAC address] [IP address]
```


## 参数解析

### 查看所有监控的地址
使用 `iwspy` 命令和接口名称，可以查看所有当前监控的地址。
```bash
iwspy wlan0
```

### 添加一个 MAC 地址进行监控
使用 `iwspy` 命令可以添加一个 MAC 地址进行监控。
```bash
iwspy wlan0 00:11:22:33:44:55
```

### 添加一个 IP 地址进行监控
使用 `iwspy` 命令可以添加一个 IP 地址进行监控。
```bash
iwspy wlan0 192.168.1.2
```

### 添加多个地址进行监控
使用 `iwspy` 命令可以添加多个地址进行监控，使用 `+` 符号来追加地址。
```bash
iwspy wlan0 + 00:11:22:33:44:55 192.168.1.2
```

## 综合应用

### 添加并监控多个地址
使用 `iwspy` 命令将多个 MAC 地址和 IP 地址添加到监控列表中。
```bash
iwspy wlan0 + 00:11:22:33:44:55 192.168.1.2
```

### 查看当前监控的地址
查看当前已经监控的所有 MAC 地址和 IP 地址。
```bash
iwspy wlan0
```

### 添加 MAC 地址和 IP 地址进行独立监控
先添加一个 MAC 地址进行监控，然后添加一个 IP 地址进行监控。
```bash
iwspy wlan0 00:11:22:33:44:55
iwspy wlan0 192.168.1.2
```

### 清空所有监控地址
如果需要清空所有已监控的地址，可以使用 `iwspy` 命令重新设置为空。
```bash
iwspy wlan0
```